(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{377:function(s,a,n){"use strict";n.r(a);var t=n(4),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"ocæ˜¯åŠ¨æ€è¯­è¨€-å¦‚ä½•ç†è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ocæ˜¯åŠ¨æ€è¯­è¨€-å¦‚ä½•ç†è§£"}},[s._v("#")]),s._v(" OCæ˜¯åŠ¨æ€è¯­è¨€ï¼Œå¦‚ä½•ç†è§£")]),s._v(" "),a("p",[s._v("OCçš„åŠ¨æ€ç‰¹æ€§å¯ä»ä¸‰æ–¹é¢æè¿°")]),s._v(" "),a("ul",[a("li",[s._v("åŠ¨æ€ç±»å‹è¯†åˆ«ï¼ˆDynamic typingï¼‰:æœ€ç»ˆåˆ¤å®šè¯¥ç±»çš„å®ä¾‹ç±»å‹æ˜¯åœ¨è¿è¡ŒæœŸé—´")]),s._v(" "),a("li",[s._v("åŠ¨æ€ç»‘å®šï¼ˆDynamic bindingï¼‰ï¼šåœ¨è¿è¡Œæ—¶ç¡®å®šè°ƒç”¨çš„æ–¹æ³•")]),s._v(" "),a("li",[s._v("åŠ¨æ€åŠ è½½ï¼ˆDynamic loadingï¼‰ï¼šåœ¨è¿è¡ŒæœŸé—´å¯æ·»åŠ æ¨¡å—ï¼ˆç±»ã€æ–¹æ³•ï¼‰")])]),s._v(" "),a("h3",{attrs:{id:"åŠ¨æ€ç±»å‹è¯†åˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€ç±»å‹è¯†åˆ«"}},[s._v("#")]),s._v(" åŠ¨æ€ç±»å‹è¯†åˆ«")]),s._v(" "),a("ul",[a("li",[s._v("OCä¸­æœ‰ä¸€ä¸ªå¯ä»¥è¡¨ç¤ºä»»ä½•å®ä¾‹å¯¹è±¡ç±»å‹çš„å…³é”®å­—--idï¼Œå°†å¯¹è±¡å£°æ˜ä¸ºidç±»å‹ï¼Œå¯æ ¹æ®éœ€è¦ï¼Œèµ‹äºˆä¸åŒç±»å‹çš„å®ä¾‹å¯¹è±¡ã€‚")]),s._v(" "),a("li",[s._v("çˆ¶ç±»æŒ‡é’ˆåŒæ ·ä¹Ÿå¯ä»¥æŒ‡å‘å­ç±»å®ä¾‹å¯¹è±¡ï¼Œç¼–è¯‘æœŸæŒ‡é’ˆç±»å‹ä¸ºçˆ¶ç±»ï¼Œè¿è¡Œåå¯åˆ¤æ–­ä¸ºå…·ä½“çš„æŸä¸ªå­ç±»ã€‚")]),s._v(" "),a("li",[s._v('è¿™æ®µä»£ç ä¹Ÿå¯ä»¥å¾ˆå¥½çš„è§£é‡ŠOCçš„åŠ¨æ€ç±»å‹è¯†åˆ«ï¼šNSData *test = [[NSString alloc] init]; åœ¨ç¼–è¯‘æœŸtestè¢«è®¤ä¸ºNSDataç±»å‹ï¼Œè¿è¡Œååˆ™ä¸ºNSStringç±»å‹ï¼Œå…¶å€¼ä¸ºç©ºå­—ç¬¦ä¸²("")ã€‚')])]),s._v(" "),a("h3",{attrs:{id:"åŠ¨æ€ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€ç»‘å®š"}},[s._v("#")]),s._v(" åŠ¨æ€ç»‘å®š")]),s._v(" "),a("p",[s._v("å…³äºåŠ¨æ€ç»‘å®šï¼Œè‹¹æœå®˜ç½‘çš„ç»™çš„è§£é‡Šä¸ºï¼šï¼ˆdetermining the method to invoke at runtimeï¼‰ã€‚æˆ‘ç†è§£ä¸ºè¿è¡Œæ—¶å†³å®šè°ƒç”¨æ–¹æ³•ï¼ˆæ›´ä¸“ä¸šçš„åº”è¯¥å«æ¶ˆæ¯å‘é€ï¼Œå¤§å®¶ä¸è¦çº ç»“è¿™ç»†èŠ‚å“ˆï¼‰ã€‚åŠ¨æ€ç»‘å®šæ˜¯å®ç°OCå¤šæ€çš„åŸºç¡€ï¼Œæ‰€è°“å¤šæ€æŒ‡çš„æ˜¯ä¸åŒå¯¹è±¡å¯¹åŒä¸€æ–¹æ³•ï¼ˆå«å‡½æ•°ä¹Ÿè¡Œï¼‰æœ‰ç€ä¸åŒå®ç°ï¼Œå¸¸è§äºå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œä¸åŒçš„å­ç±»å®ç°è¯¥æ–¹æ³•ä¸åŒï¼Œé€šè¿‡çˆ¶ç±»æŒ‡é’ˆæŒ‡å‘å­ç±»æ¥å®Œæˆã€‚")]),s._v(" "),a("h3",{attrs:{id:"åŠ¨æ€åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€åŠ è½½"}},[s._v("#")]),s._v(" åŠ¨æ€åŠ è½½")]),s._v(" "),a("p",[a("strong",[s._v("1.åŠ¨æ€æ·»åŠ å±æ€§:")])]),s._v(" "),a("p",[s._v("åŸç†ï¼šç»™ä¸€ä¸ªç±»å£°æ˜å±æ€§ï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ç»™è¿™ä¸ªç±»æ·»åŠ å…³è”ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æŠŠè¿™ä¸ªå€¼çš„å†…å­˜ç©ºé—´æ·»åŠ åˆ°ç±»å­˜ç©ºé—´ã€‚\nå¯¹è±¡å…³è”å…è®¸å¼€å‘è€…å¯¹å·²ç»å­˜åœ¨çš„ç±»åœ¨ Category ä¸­æ·»åŠ è‡ªå®šä¹‰çš„å±æ€§ï¼š")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),a("p",[s._v("OBJC_EXPORT void objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy)")]),s._v(" "),a("p",[s._v("å‚æ•°1ï¼šobject æ˜¯æºå¯¹è±¡")]),s._v(" "),a("p",[s._v("å‚æ•°2ï¼švalue æ˜¯è¢«å…³è”çš„å¯¹è±¡")]),s._v(" "),a("p",[s._v("å‚æ•°3ï¼škey æ˜¯å…³è”çš„é”®ï¼Œobjc_getAssociatedObject æ–¹æ³•é€šè¿‡ä¸åŒçš„ key å³å¯å–å‡ºå¯¹åº”çš„è¢«å…³è”å¯¹è±¡")]),s._v(" "),a("p",[s._v("å‚æ•°4ï¼špolicy æ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œè¡¨ç¤ºå…³è”å¯¹è±¡çš„è¡Œä¸ºï¼Œä»å‘½åå°±èƒ½çœ‹å‡ºå„ä¸ªæšä¸¾å€¼çš„å«ä¹‰")]),s._v(" "),a("p",[s._v("è¦å–å‡ºè¢«å…³è”çš„å¯¹è±¡ä½¿ç”¨ objc_getAssociatedObject æ–¹æ³•å³å¯ï¼Œè¦åˆ é™¤ä¸€ä¸ªè¢«å…³è”çš„å¯¹è±¡ï¼Œä½¿ç”¨ objc_setAssociatedObject æ–¹æ³•å°†å¯¹åº”çš„ key è®¾ç½®æˆ nil å³å¯.")])]),s._v(" "),a("p",[a("strong",[s._v("è¿™ä¸ªä¹Ÿå¯ä»¥å–æ¶ˆå…³è”")])]),s._v(" "),a("p",[s._v("void objc_removeAssociatedObjects(id object)")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("åº”ç”¨æƒ…æ™¯")]),s._v(" "),a("p",[s._v("ç»™NSObjectç±»æ·»åŠ ä¸€ä¸ªnameå±æ€§\nç»™UIButtonæˆ–UIViewæ·»åŠ ä¸€ä¸ªå•å‡»äº‹ä»¶å›è°ƒå±æ€§\nç»™æ§ä»¶ï¼ˆUILableï¼ŒUIButtonï¼ŒUIViewç­‰ï¼‰æ·»åŠ ä¸€ä¸ªè§’æ ‡æ˜¾ç¤ºçš„ä¿¡æ¯çš„å±æ€§ï¼Œä»¥åŠä¿¡æ¯çš„é¢œè‰²ï¼Œå­—ä½“å¤§å°ç­‰å±æ€§\nä¸‹é¢æˆ‘ä»¬ä»¥ç»™ UIButton æ·»åŠ ä¸€ä¸ªç›‘å¬å•å‡»äº‹ä»¶çš„ block å±æ€§ä¸ºä¾‹ï¼š")])]),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#import <UIKit/UIKit.h>\n\ntypedef void(^clickBlock)(void);\n\n@interface UIButton (block)\n\n/*\n * åœ¨åˆ†ç±»ä¸­å£°æ˜ä¸€ä¸ªå±æ€§æ—¶,åªä¼šç”Ÿæˆsetterå’Œgetteræ–¹æ³•çš„å£°æ˜,å¹¶ä¸èƒ½ç”Ÿæˆsetterå’Œgetteræ–¹æ³•çš„\n * å®ç°ä»¥åŠå¸¦ä¸‹åˆ’çº¿çš„æˆå‘˜å˜é‡.\n * æ‰€ä»¥, åœ¨åˆ†ç±»ä¸­æœ‰ä¸¤ç§æ–¹å¼å£°æ˜ä¸€ä¸ªå±æ€§\n */\n\n/** ç¬¬ä¸€ç§å†™æ³• */\n@property (nonatomic,copy) clickBlock click;\n\n/** ç¬¬äºŒç§å†™æ³• */\n//@property clickBlock click;\n\n@end\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#import "UIButton+block.h"\n#import <objc/runtime.h>\n\n/** å®šä¹‰å…³è”çš„key */\nstatic const void *clickKey = "click";\n\n@implementation UIButton (block)\n\n//Categoryä¸­çš„å±æ€§ï¼Œåªä¼šç”Ÿæˆsetterå’Œgetteræ–¹æ³•ï¼Œä¸ä¼šç”Ÿæˆæˆå‘˜å˜é‡\n\n-(void)setClick:(clickBlock)click{\n\n    /* äº§ç”Ÿå…³è”,è®©æŸä¸ªå¯¹è±¡(name)ä¸å½“å‰å¯¹è±¡çš„å±æ€§(name)äº§ç”Ÿå…³è”\n     å‚æ•°1: id object :è¡¨ç¤ºç»™å“ªä¸ªå¯¹è±¡æ·»åŠ å…³è”\n     å‚æ•°2: const void *key : è¡¨ç¤º: idç±»å‹çš„keyå€¼(ä»¥åç”¨è¿™ä¸ªkeyæ¥è·å–å±æ€§) å±æ€§å\n     å‚æ•°3: id value : å±æ€§å€¼\n     å‚æ•°4: ç­–ç•¥, æ˜¯ä¸ªæšä¸¾(ç‚¹è¿›å»,è§£é‡Šå¾ˆè¯¦ç»†)\n\n     å•è¯Associated å…³è”\n     */\n    objc_setAssociatedObject(self, clickKey, click, OBJC_ASSOCIATION_COPY_NONATOMIC);\n\n    [self removeTarget:self action:@selector(buttonClick) forControlEvents:UIControlEventTouchUpInside];\n\n    if (click) {\n        [self addTarget:self action:@selector(buttonClick) forControlEvents:UIControlEventTouchUpInside];\n    }\n}\n\n- (clickBlock)click{\n    return objc_getAssociatedObject(self, clickKey);\n}\n\n- (void)buttonClick{\n    if (self.click) {\n        self.click();\n    }\n}\n\n@end\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('UIButton *button = [[UIButton alloc] init];\n\nbutton.frame = self.view.bounds;\n\n[self.view addSubview:button];\n\nbutton.click = ^{\n\n    NSLog(@"ç‚¹å‡»äº†button");\n\n};\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("strong",[s._v("2.åŠ¨æ€æ·»åŠ æ–¹æ³•")])]),s._v(" "),a("p",[s._v("åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨performSelectoræ¥æ·»åŠ æ–¹æ³•ï¼Œä¹Ÿå°±ç›¸å½“äºæ‡’åŠ è½½æœºåˆ¶ã€‚\nå¦‚æœä¸€ä¸ªç±»çš„æ–¹æ³•å¾ˆå¤šï¼ŒåŠ è½½ç±»åˆ°å†…å­˜çš„æ—¶å€™è€—è´¹èµ„æºï¼Œéœ€è¦ç»™æ¯ä¸ªæ–¹æ³•ç”Ÿæˆæ˜ å°„è¡¨ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€ç»™æŸä¸ªç±»ï¼Œæ·»åŠ æ–¹æ³•è§£å†³ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡Childï¼Œå¼•å…¥runtimeå¤´æ–‡ä»¶ï¼Œ")])]),s._v(" "),a("p",[a("code",[s._v("#import <objc/message.h>")])]),s._v(" "),a("blockquote",[a("p",[s._v("å®ç°åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œé¦–å…ˆè¦å®ç°è¿™ä¸ªæ–¹æ³•ï¼šresolveInstanceMethodã€‚\nresolveInstanceMethodè°ƒç”¨ï¼šå½“ä¸€ä¸ªæ–¹æ³•æ²¡æœ‰å®ç°ï¼Œä½†æ˜¯åˆè°ƒç”¨äº†è¿™ä¸ªï¼Œå°±ä¼šè°ƒç”¨ã€‚")])]),s._v(" "),a("blockquote",[a("p",[s._v("resolveInstanceMethodä½œç”¨ï¼šçŸ¥é“å“ªäº›æ–¹æ³•æ²¡æœ‰å®ç°ï¼Œä»è€ŒåŠ¨æ€æ·»åŠ æ–¹æ³•ã€‚")])]),s._v(" "),a("p",[s._v("class_addMethod(Class cls, SEL name, IMP imp, const char *types)ï¼š\nåŠ¨æ€æ·»åŠ æ–¹æ³•æ—¶è°ƒç”¨ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("class:ç»™å“ªä¸ªç±»æ·»åŠ æ–¹æ³•")]),s._v(" "),a("li",[s._v("SEL:æ–¹æ³•ç¼–å·")]),s._v(" "),a("li",[s._v("IMP:æ–¹æ³•çš„å®ç°ï¼Œå‡½æ•°å…¥å£(æŒ‡é’ˆ)  å¦‚æœæ˜¯Cæ–¹æ³•çš„è¯å¯ç›´æ¥å†™æ–¹æ³•åï¼Œå¦‚æœæ˜¯OCæ–¹æ³•çš„è¯ï¼Œå¯é€šè¿‡class_getMethodImplementation(Class cls, SEL name)æ–¹æ³•è·å¾—ï¼›")]),s._v(" "),a("li",[s._v('types:æ–¹æ³•ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ï¼Œæ˜¯ä¸ªCå­—ç¬¦ä¸²ï¼Œ"V@:"è¡¨ç¤ºè¿”å›å€¼ç±»å‹ä¸ºç©ºï¼Œæ— å‚ï¼Œ"i@:"è¿”å›å€¼ä¸ºintï¼Œæ— å‚ï¼Œ"i@ğŸ˜¡"ï¼Œè¿”å›å€¼ä¸ºintï¼Œä¸€ä¸ªå‚æ•°ã€‚')])]),s._v(" "),a("div",{staticClass:"language-OC line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Panda *pan = [[Panda alloc] init];\n\n// é»˜è®¤Pandaï¼Œæ²¡æœ‰å®ç°eatæ–¹æ³•ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œå¯ä»¥é€šè¿‡performSelectorè°ƒç”¨ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ã€‚\n// åŠ¨æ€æ·»åŠ æ–¹æ³•å°±ä¸ä¼šæŠ¥é”™\n\n/** æ— å‚ */\n//[pan performSelector:@selector(eat)];\n\n/** æœ‰å‚ */\n[pan performSelector:@selector(eat:) withObject:@521];\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("div",{staticClass:"language-OC line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#import "Panda.h"\n#import <objc/runtime.h>\n\n@implementation Panda\n\n// é»˜è®¤æ–¹æ³•éƒ½æœ‰ä¸¤ä¸ªéšå¼å‚æ•°ï¼Œ\n// å®šä¹‰æ·»åŠ çš„æ–¹æ³•\nvoid eat(id self, SEL sel, NSNumber *meter)\n{\n    NSLog(@"\\n%@\\n%@\\n%@",self,NSStringFromSelector(sel),meter);\n}\n\n// å½“ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æœªå®ç°çš„æ–¹æ³•ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•å¤„ç†,å¹¶ä¸”ä¼šæŠŠå¯¹åº”çš„æ–¹æ³•åˆ—è¡¨ä¼ è¿‡æ¥.\n// åˆšå¥½å¯ä»¥ç”¨æ¥åˆ¤æ–­ï¼Œæœªå®ç°çš„æ–¹æ³•æ˜¯ä¸æ˜¯æˆ‘ä»¬æƒ³è¦åŠ¨æ€æ·»åŠ çš„æ–¹æ³•\n+ (BOOL)resolveInstanceMethod:(SEL)sel\n{\n\n    if (sel == NSSelectorFromString(@"eat:")) {\n        // åŠ¨æ€æ·»åŠ eatæ–¹æ³•\n\n        // ç¬¬ä¸€ä¸ªå‚æ•°ï¼šç»™å“ªä¸ªç±»æ·»åŠ æ–¹æ³•\n        // ç¬¬äºŒä¸ªå‚æ•°ï¼šæ·»åŠ æ–¹æ³•çš„æ–¹æ³•ç¼–å·\n        // ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ·»åŠ æ–¹æ³•çš„å‡½æ•°å®ç°ï¼ˆå‡½æ•°åœ°å€ï¼‰\n        // ç¬¬å››ä¸ªå‚æ•°ï¼šå‡½æ•°çš„ç±»å‹ï¼Œ(è¿”å›å€¼+å‚æ•°ç±»å‹) v:void @:å¯¹è±¡->self :è¡¨ç¤ºSEL->_cmd\n        class_addMethod(self, sel, (IMP) eat, "v@:");\n\n        return YES;\n    }\n\n    return [super resolveInstanceMethod:sel];\n}\n\n@end\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("åŠ¨æ€æ·»åŠ çš„æ–¹æ³•çš„ä½œç”¨å°±æ˜¯å»å¤„ç†æœªå®ç°çš„å®ä¾‹æ–¹æ³•æˆ–è€…æ˜¯ç±»æ–¹æ³•ï¼Œå®ƒçš„è°ƒç”¨æ—¶åˆ»: åªè¦æˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ï¼Œå®ƒå°±ä¼šåŠ¨æ€æ–¹æ³•è§£æï¼Œæ¥ä¸‹æ¥å°±ä¼šè¿›å…¥æ¶ˆæ¯è½¬å‘æµç¨‹ï¼Œè¿™æ­¤è¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥æ‹¦æˆªç„¶ååŠ¨æ€çš„æ·»åŠ æ–¹æ³•ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒã€‚")])]),s._v(" "),a("li",[a("p",[s._v("å¦‚æœä¸€ä¸ªç±»æ–¹æ³•éå¸¸å¤šï¼ŒåŠ è½½ç±»åˆ°å†…å­˜çš„æ—¶å€™ä¹Ÿæ¯”è¾ƒè€—è´¹èµ„æºï¼Œéœ€è¦ç»™æ¯ä¸ªæ–¹æ³•ç”Ÿæˆæ˜ å°„è¡¨ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€ç»™æŸä¸ªç±»æ·»åŠ æ–¹æ³•è§£å†³ã€‚")])]),s._v(" "),a("li",[a("p",[s._v("æœ‰æ²¡æœ‰ä½¿ç”¨performSelectorï¼Œå…¶å®ä¸»è¦æƒ³é—®ä½ æœ‰æ²¡æœ‰åŠ¨æ€æ·»åŠ è¿‡æ–¹æ³•ã€‚ä½¿ç”¨performSelectorå¯ä»¥è°ƒç”¨ä¸€ä¸ªæ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ã€‚")])])]),s._v(" "),a("p",[s._v("ä½¿ç”¨åœºæ™¯:")]),s._v(" "),a("p",[s._v("ä¸€ä¸ªç±»æ–¹æ³•éå¸¸å¤šï¼Œä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ï¼Œæ¯”è¾ƒè€—è´¹èµ„æºï¼Œä¸ºä»€ä¹ˆåŠ¨æ€æ·»åŠ æ–¹æ³•? OCéƒ½æ˜¯æ‡’åŠ è½½ï¼Œæœ‰äº›æ–¹æ³•å¯èƒ½å¾ˆä¹…ä¸ä¼šè°ƒç”¨ã€‚")]),s._v(" "),a("p",[s._v("æ¯”å¦‚ç”µå•†ï¼Œè§†é¢‘ï¼Œç¤¾äº¤ç­‰ä¸€äº›è½¯ä»¶ä¼šæœ‰æœ‰æ”¶è´¹é¡¹ç›®æˆ–è€…ä¼šå‘˜æœºåˆ¶ï¼Œé‚£ä¹ˆåªæœ‰åœ¨å¼€é€šä¼šå‘˜çš„æ—¶å€™æ‰ä¼šæ‹¥æœ‰ç‰¹å®šåŠŸèƒ½ï¼Œç„¶è€Œå­˜åœ¨ç›¸å½“ä¸€éƒ¨é—¨ç”¨æˆ·æ˜¯æ²¡æœ‰ä½¿ç”¨æ”¶è´¹åŠŸèƒ½ï¼Œæˆ–è€…æ˜¯æ²¡æœ‰å¼€é€šå¼€é€šä¼šå‘˜çš„ï¼Œæˆ‘ä»¬å°±åœ¨è¿™äº›ç”¨æˆ·ä½¿ç”¨æ—¶ä¸åŠ è½½è¿™äº›æ–¹æ³•ï¼ˆè¿™ä¸ªæ–¹æ³•çš„ç±»æ˜¯è¦åŠ è½½çš„ï¼‰ï¼Œåé¢åˆ©ç”¨RuntimeåŠ¨æ€çš„æ·»åŠ è¿™äº›æ–¹æ³•ï¼Œä»¥è¾¾åˆ°æ€§èƒ½æœ€å¤§åŒ–ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("3.åŠ¨æ€æ·»åŠ ç±»")])]),s._v(" "),a("blockquote",[a("p",[s._v("é€šè¿‡objc_allocateClassPair(Class _Nullable superclass, const char * _Nonnull name,size_t extraBytes)\næ·»åŠ è¦åŠ¨æ€åˆ›å»ºçš„ç±»ï¼Œç„¶åæ·»åŠ æ–¹æ³•å’Œå˜é‡ï¼Œæœ€ç»ˆå°†åˆ›å»ºçš„ç±»æ³¨å†Œåˆ°runtimeä¸­\nobjc_registerClassPair(Class _Nonnull cls)")])]),s._v(" "),a("p",[s._v("å¯¼å…¥å¤´æ–‡ä»¶#import <objc/runtime.h>ï¼ŒåŠ¨æ€æ·»åŠ ç±»ï¼Œåˆ›å»ºä¸€ä¸ªç»§æ‰¿ NSString çš„ç±»NSStringSubClassç±»ï¼Œå¦‚ä¸‹ä»£ç ")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// ç±»åä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Cå­—ç¬¦ä¸²å†™æ³• â€NSStringSubClassâ€œ\nNSString *className = @"NSStringSubClass";  \n\n// Creates a new class and metaclass.\nClass newClass = objc_allocateClassPair(NSString.class, className.UTF8String, 0);    \nclass_addMethod(newClass, @selector(eat), (IMP)EatFunction, "v@:");\nobjc_registerClassPair(newClass);\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("è°ƒç”¨objc_allocateClassPair()å‡½æ•°ï¼Œå¯¹ç±»å¯¹ï¼ˆclass and metaClassï¼‰è¿›è¡Œåˆ†é…å†…å­˜ï¼ŒPairçš„æ„æ€å°±æ˜¯ä¸€å¯¹ã€‚ä¸‰ä¸ªå‚æ•°ï¼Œ")]),s._v(" "),a("p",[s._v("ä¸€æ˜¯çˆ¶ç±»ï¼šNSStringç±»ï¼›")]),s._v(" "),a("p",[s._v("äºŒæ˜¯ç±»åç§°ï¼šâ€œNSStringSubClassâ€ï¼›")]),s._v(" "),a("p",[s._v("ä¸‰æ˜¯é¢å¤–å­—èŠ‚ï¼š0ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("åŠ¨æ€åŠ æ€èµ„æº")])]),s._v(" "),a("blockquote",[a("p",[s._v("æ ¹æ®éœ€æ±‚åŠ è½½æ‰€éœ€è¦çš„èµ„æºï¼Œè¿™ç‚¹å¾ˆå®¹æ˜“ç†è§£ï¼Œå¯¹äºiOSå¼€å‘æ¥è¯´ï¼ŒåŸºæœ¬å°±æ˜¯æ ¹æ®ä¸åŒçš„æœºå‹åšé€‚é…ã€‚æœ€ç»å…¸çš„ä¾‹å­å°±æ˜¯åœ¨Retinaè®¾å¤‡ä¸ŠåŠ è½½@2xçš„å›¾ç‰‡ï¼Œè€Œåœ¨è€ä¸€äº›çš„æ™®é€šå±è®¾å¤‡ä¸ŠåŠ è½½åŸå›¾ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"é¢å‘å¯¹åƒç¼–ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢å‘å¯¹åƒç¼–ç¨‹"}},[s._v("#")]),s._v(" é¢å‘å¯¹åƒç¼–ç¨‹")]),s._v(" "),a("p",[s._v("é¢å‘å¯¹è±¡ç¼–ç¨‹æœ‰ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("å°è£…ï¼š éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–æä¾›å…¬å…±è®¿é—®æ–¹å¼ï¼Œå°†å˜åŒ–éš”ç¦»ï¼Œä¾¿äºä½¿ç”¨ï¼Œæé«˜å¤ç”¨æ€§å’Œå®‰å…¨æ€§ã€‚")]),s._v(" "),a("li",[s._v("ç»§æ‰¿ï¼š æé«˜ä»£ç å¤ç”¨æ€§ï¼›å»ºç«‹äº†ç±»ä¹‹é—´çš„å…³ç³»ï¼›å­ç±»å¯ä»¥æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡çš„æ–¹æ³•ï¼›ç»§æ‰¿æ˜¯å¤šæ€çš„å‰æã€‚")]),s._v(" "),a("li",[s._v("å¤šæ€ï¼š æ‰€è°“å¤šæ€æŒ‡çš„æ˜¯ä¸åŒå¯¹è±¡å¯¹åŒä¸€æ–¹æ³•ï¼ˆå«å‡½æ•°ä¹Ÿè¡Œï¼‰æœ‰ç€ä¸åŒå®ç°ï¼Œå¸¸è§äºå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œä¸åŒçš„å­ç±»å®ç°è¯¥æ–¹æ³•ä¸åŒï¼Œé€šè¿‡çˆ¶ç±»æŒ‡é’ˆæŒ‡å‘å­ç±»æ¥å®Œæˆã€‚")])]),s._v(" "),a("h3",{attrs:{id:"é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"}},[s._v("#")]),s._v(" é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«?")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("é¢å‘è¿‡ç¨‹:æ³¨é‡çš„æ˜¯è§£å†³é—®é¢˜çš„æ­¥éª¤,æ¯”å¦‚Cè¯­è¨€")])]),s._v(" "),a("li",[a("p",[s._v("é¢å‘å¯¹è±¡:å…³æ³¨çš„æ˜¯è§£å†³é—®é¢˜çš„å»è¦é‚£äº›å¯¹è±¡,OCè¯­è¨€å°±æ˜¯é¢å‘å¯¹è±¡")])])]),s._v(" "),a("h3",{attrs:{id:"å¯¹è±¡æ–¹æ³•å’Œç±»æ–¹æ³•çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡æ–¹æ³•å’Œç±»æ–¹æ³•çš„åŒºåˆ«"}},[s._v("#")]),s._v(" å¯¹è±¡æ–¹æ³•å’Œç±»æ–¹æ³•çš„åŒºåˆ«?")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("å¯¹è±¡æ–¹æ³•:ä»¥å‡å·å¼€å¤´,åªå¯ä»¥è¢«å¯¹è±¡è°ƒç”¨,å¯ä»¥è®¿é—®æˆå‘˜å˜é‡")])]),s._v(" "),a("li",[a("p",[s._v("ç±»æ–¹æ³•:ä»¥åŠ å·å¼€å¤´åªèƒ½ç”¨ç±»åè°ƒç”¨,å¯¹è±¡ä¸å¯ä»¥è°ƒç”¨,ç±»æ–¹æ³•ä¸èƒ½è®¿é—®æˆå‘˜å˜é‡")])])]),s._v(" "),a("h3",{attrs:{id:"æ‰‹å†™å•ä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹å†™å•ä¾‹"}},[s._v("#")]),s._v(" æ‰‹å†™å•ä¾‹")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("static ClassName *_instance;\n+ (instancetype)sharedInstance{\n   @synchronized (self) {\n       if(!_instance)   {\n           _instance = [self alloc]init];\n       }\n    }\n    return _instance;\n} \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("æ–¹å¼äºŒ: æ³¨æ„å¤šçº¿ç¨‹é—®é¢˜ GCDdispatch_once é»˜è®¤æ˜¯çº¿ç¨‹å®‰å…¨çš„")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("static ClassName *_instance;\n  + (instancetype)sharedInstance{\n      static dispatch_one_t oneToken;\n      dispatch_once(&onetoken,^{\n          _instance = [self alloc]init];\n      });\n      return _instance;\n  }\n\n  + (instancetype)allocWithZone:(NSZone *) zone{\n    static dispatch_t onetoken;\n    dispatch_once(&oncetoken ^{\n        _instance = [super allocwithzone:zone];\n    })\n    retun _instance\n  }\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åƒµå°¸å¯¹è±¡-é‡æŒ‡é’ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åƒµå°¸å¯¹è±¡-é‡æŒ‡é’ˆ"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯åƒµå°¸å¯¹è±¡? é‡æŒ‡é’ˆ?")]),s._v(" "),a("ul",[a("li",[s._v("åƒµå°¸å¯¹è±¡: å·²ç»è¢«é”€æ¯çš„å¯¹è±¡(ä¸èƒ½å†ä½¿ç”¨çš„å¯¹è±¡),å†…å­˜å·²ç»è¢«å›æ”¶çš„å¯¹è±¡ã€‚")]),s._v(" "),a("li",[s._v("é‡æŒ‡é’ˆ: æŒ‡å‘åƒµå°¸å¯¹è±¡(ä¸å¯ç”¨å†…å­˜/å·²ç»é‡Šæ”¾çš„å†…å­˜åœ°å€)çš„æŒ‡é’ˆ")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("NSObject *obj = [NSObject new];\n[obj release]; // obj æŒ‡å‘çš„å†…å­˜åœ°å€å·²ç»é‡Šæ”¾äº†,\nobj å¦‚æœå†å»è®¿é—®çš„è¯å°±æ˜¯é‡æŒ‡é’ˆé”™è¯¯äº†.\né‡æŒ‡é’ˆé”™è¯¯å½¢å¼åœ¨Xcodeä¸­é€šå¸¸è¡¨ç°ä¸ºï¼šThread 1ï¼šEXC_BAD_ACCESSï¼Œå› ä¸ºä½ è®¿é—®äº†ä¸€å—å·²ç»ä¸å±äºä½ çš„å†…å­˜ã€‚\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"cå’Œ-oc-å¦‚ä½•æ··ç¼–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cå’Œ-oc-å¦‚ä½•æ··ç¼–"}},[s._v("#")]),s._v(" Cå’Œ OC å¦‚ä½•æ··ç¼–")]),s._v(" "),a("p",[s._v("xcodeå¯ä»¥è¯†åˆ«ä¸€ä¸‹å‡ ç§æ‰©å±•åæ–‡ä»¶:")]),s._v(" "),a("p",[s._v(".mæ–‡ä»¶,å¯ä»¥ç¼–å†™ OCè¯­è¨€ å’Œ C è¯­è¨€ä»£ç \n.cpp: åªèƒ½è¯†åˆ«C++ æˆ–è€…Cè¯­è¨€(C++å…¼å®¹C)\n.mm: ä¸»è¦ç”¨äºæ··ç¼– C++å’ŒOCä»£ç ,å¯ä»¥åŒæ—¶è¯†åˆ«OC,C,C++ä»£ç ")]),s._v(" "),a("h3",{attrs:{id:"é‡åˆ°è¿‡bad-accessçš„é”™è¯¯å—-ä½ æ˜¯æ€æ ·è°ƒè¯•çš„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‡åˆ°è¿‡bad-accessçš„é”™è¯¯å—-ä½ æ˜¯æ€æ ·è°ƒè¯•çš„"}},[s._v("#")]),s._v(" é‡åˆ°è¿‡BAD_ACCESSçš„é”™è¯¯å—ï¼Ÿä½ æ˜¯æ€æ ·è°ƒè¯•çš„ï¼Ÿ")]),s._v(" "),a("p",[s._v("BAD_ACCESS æŠ¥é”™å±äºå†…å­˜è®¿é—®é”™è¯¯ï¼Œä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œé”™è¯¯çš„åŸå› æ˜¯è®¿é—®äº†é‡æŒ‡é’ˆ(æ‚¬æŒ‚æŒ‡é’ˆ)ã€‚")]),s._v(" "),a("p",[s._v("è®¾ç½®å…¨å±€æ–­ç‚¹å¿«é€Ÿå®šä½é—®é¢˜ä»£ç æ‰€åœ¨è¡Œã€‚\nå¼€å¯åƒµå°¸å¯¹è±¡è¯Šæ–­\nAnalyzeåˆ†æ\né‡å†™objectçš„respondsToSelectoræ–¹æ³•ï¼Œç°å®å‡ºç°EXEC_BAD_ACCESSå‰è®¿é—®çš„æœ€åä¸€ä¸ªobjectã€‚\nXcode 7 å·²ç»é›†æˆäº†BAD_ACCESSæ•è·åŠŸèƒ½ï¼šAddress Sanitizerã€‚ ç”¨æ³•å¦‚ä¸‹ï¼šåœ¨é…ç½®ä¸­å‹¾é€‰âœ…Enable Address Sanitizerã€‚")]),s._v(" "),a("h3",{attrs:{id:"objective-c-å¦‚ä½•å®ç°å¤šé‡ç»§æ‰¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#objective-c-å¦‚ä½•å®ç°å¤šé‡ç»§æ‰¿"}},[s._v("#")]),s._v(" Objective-C å¦‚ä½•å®ç°å¤šé‡ç»§æ‰¿ï¼Ÿ")]),s._v(" "),a("p",[s._v("Object-cçš„ç±»æ²¡æœ‰å¤šç»§æ‰¿,åªæ”¯æŒå•ç»§æ‰¿,å¦‚æœè¦å®ç°å¤šç»§æ‰¿çš„è¯ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§æ–¹å¼é—´æ¥å®ç°")]),s._v(" "),a("p",[s._v("é€šè¿‡ç»„åˆå®ç°")]),s._v(" "),a("p",[s._v("Aå’ŒBç»„åˆï¼Œä½œä¸ºCç±»çš„ç»„ä»¶")]),s._v(" "),a("p",[s._v("é€šè¿‡åè®®å®ç°")]),s._v(" "),a("p",[s._v("Cç±»å®ç°Aå’ŒBç±»çš„åè®®æ–¹æ³•")]),s._v(" "),a("p",[s._v("æ¶ˆæ¯è½¬å‘å®ç°")]),s._v(" "),a("p",[s._v("forwardInvocation:æ–¹æ³•")]),s._v(" "),a("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯ç±»ç°‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯ç±»ç°‡"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ç±»ç°‡")]),s._v(" "),a("p",[s._v("ç±»ç°‡æ˜¯Foundationæ¡†æ¶å¹¿æ³›ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼ã€‚ç±»ç°‡åœ¨å…¬å…±æŠ½è±¡çˆ¶ç±»ä¸‹å¯¹å¤šä¸ªç§æœ‰çš„å…·ä½“å­ç±»è¿›è¡Œåˆ†ç»„ã€‚ä»¥è¿™ç§æ–¹å¼å¯¹ç±»è¿›è¡Œåˆ†ç»„ç®€åŒ–äº†é¢å‘å¯¹è±¡æ¡†æ¶çš„å…¬å…±å¯è§ä½“ç³»ç»“æ„ï¼Œè€Œä¸ä¼šé™ä½å…¶åŠŸèƒ½ä¸°å¯Œåº¦ã€‚ç±»ç°‡æ˜¯åŸºäºæŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼çš„ã€‚")]),s._v(" "),a("p",[s._v("OCä¸­æœ‰å“ªäº›ç±»ç°‡å‘¢ï¼ŸNSDataã€NSArrayã€NSDictionaryã€NSStringã€NSNumberç­‰éƒ½æ˜¯ç±»ç°‡ã€‚æ—¥å¸¸å¼€å‘debugè¿‡ç¨‹ä¸­æˆ‘ä»¬å¯èƒ½ä¼šå‘ç°_NSCFStringã€__NSArrayIè¿™æ ·çš„ç±»ï¼Œå…¶å®è¿™å°±æ˜¯å…¶ç±»ç°‡ä¸‹é¢çš„ç§æœ‰å­ç±»")]),s._v(" "),a("p",[s._v("ä¸ºä»€ä¹ˆè‹¹æœè¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿä»¥NSArrayä¸ºä¾‹ï¼Œä¸ºäº†ä¿æŒæ•°ç»„å­˜å–çš„é«˜æ•ˆï¼Œé’ˆå¯¹ä¸åŒæƒ…å†µï¼ˆå¯å˜ã€ä¸å¯å˜ã€å•å…ƒç´ ç­‰æƒ…å†µï¼‰å¿…ç„¶è¦æœ‰ç›¸åº”çš„å­ç±»æ¥ä¼˜åŒ–å®ç°ã€‚å¦‚æœå…¨éƒ¨éƒ½ç”¨å¯è§å­ç±»æ¥å®ç°çš„è¯ï¼Œé‚£ä¹ˆå¯¹äºç¨‹åºå‘˜æ¥è¯´ï¼Œå°±è¦ç†ŸçŸ¥å¤§é‡çš„å­ç±»åŠå…¶APIï¼Œå¹¶ä¸”åœ¨è°ƒç”¨çš„æ—¶å€™ä¹Ÿè¦åˆ†æƒ…å†µå»è°ƒç”¨ï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥å¤ªå¤æ‚äº†ã€‚è€Œä¸”å¦‚æœå­ç±»å®ç°æ”¹å˜çš„è¯ï¼Œæœ‰å¯èƒ½å¯¼è‡´æ¥å£ä¹Ÿæ”¹å˜ï¼Œæ¡†æ¶APIå˜åŒ–ä¹Ÿå°±æ›´åŠ é¢‘ç¹ï¼Œä¸åˆ©äºä½¿ç”¨ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒNSArrayå’ŒNSMutableArrayä½œä¸ºå…¬å¼€æŠ½è±¡çˆ¶ç±»ï¼ŒæŠ½è±¡äº†arrayåŠŸèƒ½çš„æ¥å£ï¼Œä½†æ˜¯å…·ä½“çš„å®ç°åˆ™æ˜¯é€šè¿‡ç§æœ‰çš„å…·ä½“å­ç±»æ¥å®ç°ã€‚å†ç»“åˆæŠ½è±¡å·¥å‚è®¾è®¡æ¨¡å¼ï¼Œç¨‹åºå‘˜å°±å¯ä»¥é€šè¿‡æŠ½è±¡çˆ¶ç±»å¼•ç”¨è€ŒæŒ‡å‘ç§æœ‰å…·ä½“å­ç±»ï¼Œç”±å­ç±»æ ¹æ®è‡ªèº«æƒ…å†µå®ç°çˆ¶ç±»æŠ½è±¡çš„æ–¹æ³•ã€‚è¿™æ ·æ¥å£ååˆ†ç®€æ´ï¼Œæ¡†æ¶åº•å±‚å­ç±»å˜åŒ–æ—¶ä¹Ÿä¸ä¼šå½±å“åˆ°æ¥å£çš„å˜åŒ–ï¼Œå¢å¼ºäº†æ¥å£ç¨³å®šæ€§ã€‚")]),s._v(" "),a("h2",{attrs:{id:"apnsçš„æ¨é€æœºåˆ¶åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apnsçš„æ¨é€æœºåˆ¶åŸç†"}},[s._v("#")]),s._v(" APNSçš„æ¨é€æœºåˆ¶åŸç†")]),s._v(" "),a("ol",[a("li",[s._v("ç”±Appå‘iOSè®¾å¤‡å‘é€ä¸€ä¸ªæ³¨å†Œé€šçŸ¥ï¼Œç”¨æˆ·éœ€è¦åŒæ„ç³»ç»Ÿå‘é€æ¨é€ã€‚")]),s._v(" "),a("li",[s._v("iOSå‘APNsè¿œç¨‹æ¨é€æœåŠ¡å™¨å‘é€Appçš„Bundle Idå’Œè®¾å¤‡çš„UDIDã€‚")]),s._v(" "),a("li",[s._v("APNsæ ¹æ®è®¾å¤‡çš„UDIDå’ŒAppçš„Bundle Idç”ŸæˆdeviceTokenå†å‘å›ç»™Appã€‚")]),s._v(" "),a("li",[s._v("Appå†å°†deviceTokenå‘é€ç»™è¿œç¨‹æ¨é€æœåŠ¡å™¨(è‡ªå·±çš„æœåŠ¡å™¨), ç”±æœåŠ¡å™¨ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚")]),s._v(" "),a("li",[s._v("å½“è‡ªå·±çš„æœåŠ¡å™¨æƒ³å‘é€æ¨é€æ—¶, åœ¨è¿œç¨‹æ¨é€æœåŠ¡å™¨ä¸­è¾“å…¥è¦å‘é€çš„æ¶ˆæ¯å¹¶é€‰æ‹©å‘ç»™å“ªäº›ç”¨æˆ·çš„deviceTokenï¼Œç”±è¿œç¨‹æ¨é€æœåŠ¡å™¨å‘é€ç»™APNsã€‚")]),s._v(" "),a("li",[s._v("APNsæ ¹æ®deviceTokenå‘é€ç»™å¯¹åº”çš„ç”¨æˆ·ã€‚")])]),s._v(" "),a("ul",[a("li",[s._v("APNs æœåŠ¡å™¨å°±æ˜¯è‹¹æœä¸“é—¨åšè¿œç¨‹æ¨é€çš„æœåŠ¡å™¨ã€‚")]),s._v(" "),a("li",[s._v("deviceTokenæ˜¯ç”±APNsç”Ÿæˆçš„ä¸€ä¸ªä¸“é—¨æ‰¾åˆ°ä½ æŸä¸ªæ‰‹æœºä¸Šçš„Appçš„ä¸€ä¸ªæ ‡è¯†ç ã€‚")]),s._v(" "),a("li",[s._v("deviceToken å¯èƒ½ä¼šå˜,å¦‚æœä½ æ›´æ”¹äº†ä½ é¡¹ç›®çš„bundle Identifieræˆ–è€…APNsæœåŠ¡å™¨æ›´æ–°äº†å¯èƒ½ä¼šå˜ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"è¯´ä¸€ä¸‹é™æ€åº“å’ŒåŠ¨æ€åº“ä¹‹é—´çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯´ä¸€ä¸‹é™æ€åº“å’ŒåŠ¨æ€åº“ä¹‹é—´çš„åŒºåˆ«"}},[s._v("#")]),s._v(" è¯´ä¸€ä¸‹é™æ€åº“å’ŒåŠ¨æ€åº“ä¹‹é—´çš„åŒºåˆ«")]),s._v(" "),a("p",[s._v("é™æ€åº“ï¼šä»¥.a å’Œ .frameworkä¸ºæ–‡ä»¶åç¼€åã€‚é“¾æ¥æ—¶ä¼šè¢«å®Œæ•´çš„å¤åˆ¶åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œè¢«å¤šæ¬¡ä½¿ç”¨å°±æœ‰å¤šä»½æ‹·è´ã€‚")]),s._v(" "),a("p",[s._v("åŠ¨æ€åº“ï¼šä»¥.tbd(ä¹‹å‰å«.dylib) å’Œ .framework ä¸ºæ–‡ä»¶åç¼€åã€‚ é“¾æ¥æ—¶ä¸å¤åˆ¶ï¼Œç¨‹åºè¿è¡Œæ—¶ç”±ç³»ç»ŸåŠ¨æ€åŠ è½½åˆ°å†…å­˜ï¼Œç³»ç»ŸåªåŠ è½½ä¸€æ¬¡ï¼Œå¤šä¸ªç¨‹åºå…±ç”¨ï¼ˆå¦‚ç³»ç»Ÿçš„UIKit.frameworkç­‰ï¼‰ï¼ŒèŠ‚çœå†…å­˜ã€‚")]),s._v(" "),a("p",[s._v("// é™æ€åº“.a å’Œ frameworkåŒºåˆ«.a ä¸»è¦æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶,ä¸åŒ…å«èµ„æº,éœ€è¦è‡ªå·±æ·»åŠ å¤´æ–‡ä»¶\n.framework å¯ä»¥åŒ…å«å¤´æ–‡ä»¶+èµ„æºä¿¡æ¯")]),s._v(" "),a("h2",{attrs:{id:"cocoa-touchåº•å±‚æŠ€æœ¯æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cocoa-touchåº•å±‚æŠ€æœ¯æ¶æ„"}},[s._v("#")]),s._v(" cocoa touchåº•å±‚æŠ€æœ¯æ¶æ„?")]),s._v(" "),a("p",[s._v("cocoa touchåº•å±‚æŠ€æœ¯æ¶æ„ ä¸»è¦åˆ†ä¸º4å±‚:")]),s._v(" "),a("ul",[a("li",[s._v("å¯è§¦æ‘¸å±‚ Cocoa Touch : UIç»„ä»¶,è§¦æ‘¸äº‹ä»¶å’Œäº‹ä»¶é©±åŠ¨,ç³»ç»Ÿæ¥å£")]),s._v(" "),a("li",[s._v("åª’ä½“å±‚ Media: éŸ³è§†é¢‘æ’­æ”¾,åŠ¨ç”»,2Då’Œ3Då›¾å½¢")]),s._v(" "),a("li",[s._v("Core Server: æ ¸å¿ƒæœåŠ¡å±‚,åº•å±‚ç‰¹æ€§,æ–‡ä»¶,ç½‘ç»œ,ä½ç½®æœåŠ¡åŒºç­‰")]),s._v(" "),a("li",[s._v("Core OS: å†…å­˜ç®¡ç†,åº•å±‚ç½‘ç»œ,ç¡¬ç›˜ç®¡ç†")])]),s._v(" "),a("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯ç±»å·¥å‚æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯ç±»å·¥å‚æ–¹æ³•"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ç±»å·¥å‚æ–¹æ³•?")]),s._v(" "),a("p",[s._v("ç±»å·¥å‚æ–¹æ³•å°±æ˜¯ç”¨æ¥å¿«é€Ÿåˆ›å»ºå¯¹è±¡çš„ç±»æ–¹æ³•, ä»–å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªåˆå§‹åŒ–å¥½çš„å¯¹è±¡,å…·å¤‡ä»¥ä¸‹ç‰¹å¾:")]),s._v(" "),a("ul",[a("li",[s._v("ä¸€å®šæ˜¯ç±»æ–¹æ³•")]),s._v(" "),a("li",[s._v("è¿”å›å€¼éœ€è¦æ˜¯ id/instancetype ç±»å‹")]),s._v(" "),a("li",[s._v("è§„èŒƒçš„æ–¹æ³•åè¯´è¯´æ˜ç±»å·¥å‚æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªä»€ä¹ˆå¯¹è±¡,ä¸€èˆ¬ä»¥ç±»åé¦–å­—æ¯å°å†™å¼€å§‹;")]),s._v(" "),a("li",[s._v("æ¯”å¦‚ç³»ç»Ÿ UIButton çš„buttonWithType å°±æ˜¯ä¸€ä¸ªç±»å·¥å‚æ–¹æ³•:")])]),s._v(" "),a("div",{staticClass:"language-objectivec line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-objectivec"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç±»å·¥å‚æ–¹æ³•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("instancetype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("buttonWithType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UIButtonType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("buttonType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" UIButton "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" button "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("UIButton buttonWithType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("UIButtonTypeCustom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"objective-c-ä¸­çš„å­—å…¸-nsdictionary-åº•å±‚å…¶å®æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨-å®é™…ä¸Šç»å¤§å¤šæ•°è¯­è¨€ä¸­å­—å…¸éƒ½é€šè¿‡å“ˆå¸Œè¡¨å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#objective-c-ä¸­çš„å­—å…¸-nsdictionary-åº•å±‚å…¶å®æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨-å®é™…ä¸Šç»å¤§å¤šæ•°è¯­è¨€ä¸­å­—å…¸éƒ½é€šè¿‡å“ˆå¸Œè¡¨å®ç°"}},[s._v("#")]),s._v(" Objective-C ä¸­çš„å­—å…¸ NSDictionary åº•å±‚å…¶å®æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå®é™…ä¸Šç»å¤§å¤šæ•°è¯­è¨€ä¸­å­—å…¸éƒ½é€šè¿‡å“ˆå¸Œè¡¨å®ç°ï¼Œ")]),s._v(" "),a("p",[s._v("å“ˆå¸Œè¡¨çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªç®±å­(bin)ï¼Œç®±å­ä¸­å­˜æ”¾çš„æ˜¯é”®å€¼å¯¹ã€‚æ•°ç»„é•¿åº¦å³ç®±å­æ•°ã€‚\nå“ˆå¸Œè¡¨è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å±æ€§: è´Ÿè½½å› å­(load factor)ï¼Œå®ƒç”¨æ¥è¡¡é‡å“ˆå¸Œè¡¨çš„ ç©º/æ»¡ ç¨‹åº¦ï¼Œä¸€å®šç¨‹åº¦ä¸Šä¹Ÿå¯ä»¥ä½“ç°æŸ¥è¯¢çš„æ•ˆç‡ï¼Œè®¡ç®—å…¬å¼ä¸º:\nè´Ÿè½½å› å­ = æ€»é”®å€¼å¯¹æ•° / ç®±å­ä¸ªæ•°\nè´Ÿè½½å› å­è¶Šå¤§ï¼Œæ„å‘³ç€å“ˆå¸Œè¡¨è¶Šæ»¡ï¼Œè¶Šå®¹æ˜“å¯¼è‡´å†²çªï¼Œæ€§èƒ½ä¹Ÿå°±è¶Šä½ã€‚å› æ­¤ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå½“è´Ÿè½½å› å­å¤§äºæŸä¸ªå¸¸æ•°(0.75)æ—¶ï¼Œå“ˆå¸Œè¡¨å°†è‡ªåŠ¨æ‰©å®¹")]),s._v(" "),a("h3",{attrs:{id:"å¼€æ”¾å¯»å€æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€æ”¾å¯»å€æ³•"}},[s._v("#")]),s._v(" å¼€æ”¾å¯»å€æ³•")]),s._v(" "),a("p",[s._v("åˆç§°å¼€æ”¾å®šå€æ³•ï¼Œå½“å“ˆå¸Œå†²çªå‘ç”Ÿæ—¶ï¼Œä»å‘ç”Ÿå†²çªçš„é‚£ä¸ªå•å…ƒèµ·ï¼ŒæŒ‰ç…§ä¸€å®šçš„æ¬¡åºï¼Œä»å“ˆå¸Œè¡¨ä¸­å¯»æ‰¾ä¸€ä¸ªç©ºé—²çš„å•å…ƒï¼Œç„¶åæŠŠå‘ç”Ÿå†²çªçš„å…ƒç´ å­˜å…¥åˆ°è¯¥å•å…ƒã€‚è¿™ä¸ªç©ºé—²å•å…ƒåˆç§°ä¸ºå¼€æ”¾å•å…ƒæˆ–è€…ç©ºç™½å•å…ƒã€‚å¼€æ”¾å¯»å€æ³•éœ€è¦çš„è¡¨é•¿åº¦è¦å¤§äºç­‰äºæ‰€éœ€è¦å­˜æ”¾çš„å…ƒç´ æ•°é‡ï¼Œéå¸¸é€‚ç”¨äºè£…è½½å› å­è¾ƒå°ï¼ˆå°äº0.5ï¼‰çš„æ•£åˆ—è¡¨ã€‚")]),s._v(" "),a("p",[s._v("æŸ¥æ‰¾æ—¶ï¼Œå¦‚æœæ¢æŸ¥åˆ°ç©ºç™½å•å…ƒï¼Œå³è¡¨ä¸­æ— å¾…æŸ¥çš„å…³é”®å­—ï¼Œåˆ™æŸ¥æ‰¾å¤±è´¥ã€‚")]),s._v(" "),a("p",[s._v("å¼€æ”¾å®šå€æ³•çš„ç¼ºç‚¹åœ¨äºåˆ é™¤å…ƒç´ çš„æ—¶å€™ä¸èƒ½çœŸçš„åˆ é™¤ï¼Œå¦åˆ™ä¼šå¼•èµ·æŸ¥æ‰¾é”™è¯¯ï¼Œåªèƒ½åšä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œç›´åˆ°æœ‰ä¸‹ä¸ªå…ƒç´ æ’å…¥æ‰èƒ½çœŸæ­£åˆ é™¤è¯¥å…ƒç´ ã€‚\nç±»ä¼¼æ‰¾åœè½¦ä½:")]),s._v(" "),a("p",[a("strong",[s._v("çº¿æ€§æ¢æŸ¥æ³•")])]),s._v(" "),a("p",[s._v("çº¿æ€§æ¢æŸ¥æ³•ï¼ˆLinear Probingï¼‰ï¼šdi = 1,2,3,â€¦,m-1\nç®€å•åœ°è¯´ï¼Œå°±æ˜¯ä»¥å½“å‰å†²çªä½ç½®ä¸ºèµ·ç‚¹ï¼Œæ­¥é•¿ä¸º1å¾ªç¯æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç©ºçš„ä½ç½®ï¼Œå¦‚æœå¾ªç¯å®Œäº†éƒ½å ä¸åˆ°ä½ç½®ï¼Œå°±è¯´æ˜å®¹å™¨å·²ç»æ»¡äº†ã€‚ä¸¾ä¸ªæ —å­ï¼Œå°±åƒä½ åœ¨é¥­ç‚¹å»è¡—ä¸Šåƒé¥­ï¼ŒæŒ¨å®¶å»çœ‹æ˜¯å¦æœ‰ä½ç½®ä¸€æ ·ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("å¹³æ–¹æ¢æµ‹æ³•ï¼ˆQuadratic Probingï¼‰ï¼šdi = Â±12, Â±22ï¼ŒÂ±32ï¼Œâ€¦ï¼ŒÂ±k2ï¼ˆkâ‰¤m/2")])]),s._v(" "),a("p",[s._v("ç›¸å¯¹äºçº¿æ€§æ¢æŸ¥æ³•ï¼Œè¿™å°±ç›¸å½“äºçš„æ­¥é•¿ä¸ºdi = i2æ¥å¾ªç¯æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºçš„ä½ç½®ã€‚ä»¥ä¸Šé¢é‚£ä¸ªä¾‹å­æ¥çœ‹ï¼Œç°åœ¨ä½ ä¸æ˜¯æŒ¨å®¶å»çœ‹æœ‰æ²¡æœ‰ä½ç½®äº†ï¼Œè€Œæ˜¯æ‹¿æ‰‹æœºç®—å»ç¬¬i2å®¶åº—ï¼Œç„¶åå»é—®è¿™å®¶åº—æœ‰æ²¡æœ‰ä½ç½®ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ä¼ªéšæœºæ¢æµ‹æ³•ï¼šdi = ä¼ªéšæœºæ•°åº")])]),s._v(" "),a("p",[s._v("è¿™ä¸ªå°±æ˜¯å–éšæœºæ•°æ¥ä½œä¸ºæ­¥é•¿ã€‚è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œè¿™æ¬¡å°±æ˜¯å®Œå…¨æŒ‰å¿ƒæƒ…å»é€‰ä¸€å®¶åº—é—®æœ‰æ²¡æœ‰ä½ç½®äº†ã€‚")]),s._v(" "),a("p",[s._v("ä½†å¼€æ”¾å®šå€æ³•æœ‰è¿™äº›ç¼ºç‚¹ï¼š")]),s._v(" "),a("p",[s._v("è¿™ç§æ–¹æ³•å»ºç«‹èµ·æ¥çš„å“ˆå¸Œè¡¨ï¼Œå½“å†²çªå¤šçš„æ—¶å€™æ•°æ®å®¹æ˜“å †é›†åœ¨ä¸€èµ·ï¼Œè¿™æ—¶å€™å¯¹æŸ¥æ‰¾ä¸å‹å¥½ï¼›\nåˆ é™¤ç»“ç‚¹çš„æ—¶å€™ä¸èƒ½ç®€å•å°†ç»“ç‚¹çš„ç©ºé—´ç½®ç©ºï¼Œå¦åˆ™å°†æˆªæ–­åœ¨å®ƒå¡«å…¥æ•£åˆ—è¡¨ä¹‹åçš„åŒä¹‰è¯ç»“ç‚¹æŸ¥æ‰¾è·¯å¾„ã€‚å› æ­¤å¦‚æœè¦åˆ é™¤ç»“ç‚¹ï¼Œåªèƒ½åœ¨è¢«åˆ ç»“ç‚¹ä¸Šæ·»åŠ åˆ é™¤æ ‡è®°ï¼Œè€Œä¸èƒ½çœŸæ­£åˆ é™¤ç»“ç‚¹ï¼›\nå¦‚æœå“ˆå¸Œè¡¨çš„ç©ºé—´å·²ç»æ»¡äº†ï¼Œè¿˜éœ€è¦å»ºç«‹ä¸€ä¸ªæº¢å‡ºè¡¨ï¼Œæ¥å­˜å…¥å¤šå‡ºæ¥çš„å…ƒç´ ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("å†å“ˆå¸Œæ³•")])]),s._v(" "),a("p",[s._v("Hi = RHi(key), å…¶ä¸­i=1,2,â€¦,k\nRHi()å‡½æ•°æ˜¯ä¸åŒäºH()çš„å“ˆå¸Œå‡½æ•°ï¼Œç”¨äºåŒä¹‰è¯å‘ç”Ÿåœ°å€å†²çªæ—¶ï¼Œè®¡ç®—å‡ºå¦ä¸€ä¸ªå“ˆå¸Œå‡½æ•°åœ°å€ï¼Œç›´åˆ°ä¸å‘ç”Ÿå†²çªä½ç½®ã€‚è¿™ç§æ–¹æ³•ä¸å®¹æ˜“äº§ç”Ÿå †é›†ï¼Œä½†æ˜¯ä¼šå¢åŠ è®¡ç®—æ—¶é—´ã€‚")]),s._v(" "),a("p",[s._v("æ‰€ä»¥å†å“ˆå¸Œæ³•çš„ç¼ºç‚¹æ˜¯ï¼šå¢åŠ äº†è®¡ç®—æ—¶é—´ã€‚")]),s._v(" "),a("h3",{attrs:{id:"æ‹‰é“¾æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‹‰é“¾æ³•"}},[s._v("#")]),s._v(" æ‹‰é“¾æ³•")]),s._v(" "),a("p",[s._v("æ‹‰é“¾æ³• çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œå°†é“¾è¡¨å’Œæ•°ç»„ç›¸ç»“åˆã€‚ä¹Ÿå°±æ˜¯è¯´åˆ›å»ºä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ•°ç»„ä¸­æ¯ä¸€æ ¼å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚è‹¥é‡åˆ°å“ˆå¸Œå†²çªï¼Œåˆ™å°†å†²çªçš„å€¼åŠ åˆ°é“¾è¡¨ä¸­å³å¯ã€‚")]),s._v(" "),a("p",[s._v("å°†å†²çªä½ç½®çš„å…ƒç´ æ„é€ æˆé“¾è¡¨ã€‚åœ¨æ·»åŠ æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå“ˆå¸Œåœ°å€ä¸å“ˆå¸Œè¡¨ä¸Šçš„å…ƒç´ å†²çªï¼Œå°±æ”¾åœ¨è¿™ä¸ªä½ç½®çš„é“¾è¡¨ä¸Šã€‚")]),s._v(" "),a("p",[s._v("æ‹‰é“¾æ³•çš„ä¼˜ç‚¹ï¼š")]),s._v(" "),a("p",[s._v("å¤„ç†å†²çªçš„æ–¹å¼ç®€å•ï¼Œä¸”æ— å †é›†ç°è±¡ï¼ŒéåŒä¹‰è¯ç»ä¸ä¼šå‘ç”Ÿå†²çªï¼Œå› æ­¤å¹³å‡æŸ¥æ‰¾é•¿åº¦è¾ƒçŸ­ï¼›\nç”±äºæ‹‰é“¾æ³•ä¸­å„é“¾è¡¨ä¸Šçš„ç»“ç‚¹ç©ºé—´æ˜¯åŠ¨æ€ç”³è¯·çš„ï¼Œæ‰€ä»¥å®ƒæ›´é€‚åˆé€ è¡¨å‰æ— æ³•ç¡®å®šè¡¨é•¿çš„æƒ…å†µï¼›\nåˆ é™¤ç»“ç‚¹æ“ä½œæ˜“äºå®ç°ï¼Œåªè¦ç®€å•åœ°åˆ é™¤é“¾è¡¨ä¸Šçš„ç›¸åº”çš„ç»“ç‚¹å³å¯ã€‚\næ‹‰é“¾æ³•çš„ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚")]),s._v(" "),a("p",[s._v("ä»HashMapçš„åº•å±‚ç»“æ„ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒHashMapé‡‡ç”¨æ˜¯æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘çš„ç»„åˆæ¥ä½œä¸ºåº•å±‚ç»“æ„ï¼Œä¹Ÿå°±æ˜¯å¼€æ”¾åœ°å€æ³•+é“¾åœ°å€æ³•çš„æ–¹å¼æ¥å®ç°HashMapã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/214070779/picx-images-hosting@master/20230813/Screenshot-2023-08-30-at-17.22.20.4xw45p3cqqc0.webp",alt:"Screenshot-2023-08-30-at-17"}})]),s._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆhashmapåŠ è½½å› å­ä¸€å®šæ˜¯0-75-è€Œä¸æ˜¯0-8-0-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆhashmapåŠ è½½å› å­ä¸€å®šæ˜¯0-75-è€Œä¸æ˜¯0-8-0-6"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆHashMapåŠ è½½å› å­ä¸€å®šæ˜¯0.75ï¼Ÿè€Œä¸æ˜¯0.8ï¼Œ0.6ï¼Ÿ")]),s._v(" "),a("p",[s._v("ä»ä¸Šæ–‡æˆ‘ä»¬çŸ¥é“ï¼ŒHashMapçš„åº•å±‚å…¶å®ä¹Ÿæ˜¯å“ˆå¸Œè¡¨ï¼ˆæ•£åˆ—è¡¨ï¼‰ï¼Œè€Œè§£å†³å†²çªçš„æ–¹å¼æ˜¯é“¾åœ°å€æ³•ã€‚HashMapçš„åˆå§‹å®¹é‡å¤§å°é»˜è®¤æ˜¯16ï¼Œä¸ºäº†å‡å°‘å†²çªå‘ç”Ÿçš„æ¦‚ç‡ï¼Œå½“HashMapçš„æ•°ç»„é•¿åº¦åˆ°è¾¾ä¸€ä¸ªä¸´ç•Œå€¼çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹ï¼ŒæŠŠæ‰€æœ‰å…ƒç´ rehashä¹‹åå†æ”¾åœ¨æ‰©å®¹åçš„å®¹å™¨ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“è€—æ—¶çš„æ“ä½œã€‚")]),s._v(" "),a("p",[s._v("è€Œè¿™ä¸ªä¸´ç•Œå€¼å°±æ˜¯ç”±åŠ è½½å› å­å’Œå½“å‰å®¹å™¨çš„å®¹é‡å¤§å°æ¥ç¡®å®šçš„ï¼š")]),s._v(" "),a("p",[s._v("ä¸´ç•Œå€¼ = DEFAULT_INITIAL_CAPACITY * DEFAULT_LOAD_FACTOR\nå³é»˜è®¤æƒ…å†µä¸‹æ˜¯16x0.75=12æ—¶ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹æ“ä½œã€‚")]),s._v(" "),a("p",[s._v("é‚£ä¹ˆä¸ºä»€ä¹ˆé€‰æ‹©äº†0.75ä½œä¸ºHashMapçš„åŠ è½½å› å­å‘¢ï¼Ÿè¿™ä¸ªè·Ÿä¸€ä¸ªç»Ÿè®¡å­¦é‡Œå¾ˆé‡è¦çš„åŸç†â€”â€”æ³Šæ¾åˆ†å¸ƒæœ‰å…³ã€‚")]),s._v(" "),a("p",[s._v("æ³Šæ¾åˆ†å¸ƒæ˜¯ç»Ÿè®¡å­¦å’Œæ¦‚ç‡å­¦å¸¸è§çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒï¼Œé€‚ç”¨äºæè¿°å•ä½æ—¶é—´å†…éšæœºäº‹ä»¶å‘ç”Ÿçš„æ¬¡æ•°çš„æ¦‚ç‡åˆ†å¸ƒã€‚æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥çœ‹çœ‹ç»´åŸºç™¾ç§‘æˆ–è€…é˜®ä¸€å³°è€å¸ˆçš„è¿™ç¯‡æ–‡ç« ï¼šæ³Šæ¾åˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒï¼š10åˆ†é’Ÿæ•™ç¨‹[1]")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/214070779/picx-images-hosting@master/20230813/Screenshot-2023-08-30-at-17.23.22.6a3jkhbcmqc0.webp",alt:"Screenshot-2023-08-30-at-17"}})]),s._v(" "),a("p",[s._v("ç­‰å·çš„å·¦è¾¹ï¼ŒP è¡¨ç¤ºæ¦‚ç‡ï¼ŒNè¡¨ç¤ºæŸç§å‡½æ•°å…³ç³»ï¼Œt è¡¨ç¤ºæ—¶é—´ï¼Œn è¡¨ç¤ºæ•°é‡ã€‚ç­‰å·çš„å³è¾¹ï¼ŒÎ» è¡¨ç¤ºäº‹ä»¶çš„é¢‘ç‡ã€‚")]),s._v(" "),a("h3",{attrs:{id:"é‚£ä¹ˆä¸ºä»€ä¹ˆä¸å¯ä»¥æ˜¯0-8æˆ–è€…0-6å‘¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é‚£ä¹ˆä¸ºä»€ä¹ˆä¸å¯ä»¥æ˜¯0-8æˆ–è€…0-6å‘¢"}},[s._v("#")]),s._v(" é‚£ä¹ˆä¸ºä»€ä¹ˆä¸å¯ä»¥æ˜¯0.8æˆ–è€…0.6å‘¢ï¼Ÿ")]),s._v(" "),a("p",[s._v("HashMapä¸­é™¤äº†å“ˆå¸Œç®—æ³•ä¹‹å¤–ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°å½±å“äº†æ€§èƒ½ï¼šåˆå§‹å®¹é‡å’ŒåŠ è½½å› å­ã€‚åˆå§‹å®¹é‡æ˜¯å“ˆå¸Œè¡¨åœ¨åˆ›å»ºæ—¶çš„å®¹é‡ï¼ŒåŠ è½½å› å­æ˜¯å“ˆå¸Œè¡¨åœ¨å…¶å®¹é‡è‡ªåŠ¨æ‰©å®¹ä¹‹å‰å¯ä»¥è¾¾åˆ°å¤šæ»¡çš„ä¸€ç§åº¦é‡ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ç»´åŸºç™¾ç§‘æ¥æè¿°åŠ è½½å› å­ï¼š")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("å¯¹äºå¼€æ”¾å®šå€æ³•ï¼ŒåŠ è½½å› å­æ˜¯ç‰¹åˆ«é‡è¦å› ç´ ï¼Œåº”ä¸¥æ ¼é™åˆ¶åœ¨0.7-0.8ä»¥ä¸‹ã€‚è¶…è¿‡0.8ï¼ŒæŸ¥è¡¨æ—¶çš„CPUç¼“å­˜ä¸å‘½ä¸­ï¼ˆcache missingï¼‰æŒ‰ç…§æŒ‡æ•°æ›²çº¿ä¸Šå‡ã€‚å› æ­¤ï¼Œä¸€äº›é‡‡ç”¨å¼€æ”¾å®šå€æ³•çš„hashåº“ï¼Œå¦‚Javaçš„ç³»ç»Ÿåº“é™åˆ¶äº†åŠ è½½å› å­ä¸º0.75ï¼Œè¶…è¿‡æ­¤å€¼å°†resizeæ•£åˆ—è¡¨ã€‚\n")])])]),a("p",[s._v("åœ¨è®¾ç½®åˆå§‹å®¹é‡æ—¶åº”è¯¥è€ƒè™‘åˆ°æ˜ å°„ä¸­æ‰€éœ€çš„æ¡ç›®æ•°åŠå…¶åŠ è½½å› å­ï¼Œä»¥ä¾¿æœ€å¤§é™åº¦åœ°å‡å°‘æ‰©å®¹rehashæ“ä½œæ¬¡æ•°ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬åœ¨ä½¿ç”¨HashMapæ—¶å»ºè®®æ ¹æ®é¢„ä¼°å€¼è®¾ç½®åˆå§‹å®¹é‡ï¼Œä»¥ä¾¿å‡å°‘æ‰©å®¹æ“ä½œã€‚")]),s._v(" "),a("p",[s._v("é€‰æ‹©0.75ä½œä¸ºé»˜è®¤çš„åŠ è½½å› å­ï¼Œå®Œå…¨æ˜¯æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¸Šå¯»æ±‚çš„ä¸€ç§æŠ˜è¡·é€‰æ‹©ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ä¸ºå•¥HashMap æ¡¶ä¸­è¶…è¿‡ 8 ä¸ªæ‰è½¬ä¸ºçº¢é»‘æ ‘")])]),s._v(" "),a("p",[s._v("æœ€å¼€å§‹çš„ Map æ˜¯ç©ºçš„ï¼Œå› ä¸ºé‡Œé¢æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œå¾€é‡Œæ”¾å…ƒç´ æ—¶ä¼šè®¡ç®— hash å€¼ï¼Œè®¡ç®—ä¹‹åï¼Œç¬¬ 1 ä¸ª value ä¼šé¦–å…ˆå ç”¨ä¸€ä¸ªæ¡¶ï¼ˆä¹Ÿç§°ä¸ºæ§½ç‚¹ï¼‰ä½ç½®ï¼Œåç»­å¦‚æœç»è¿‡è®¡ç®—å‘ç°éœ€è¦è½åˆ°åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œé‚£ä¹ˆä¾¿ä¼šä½¿ç”¨é“¾è¡¨çš„å½¢å¼å¾€åå»¶é•¿ï¼Œä¿—ç§°â€œæ‹‰é“¾æ³•â€")]),s._v(" "),a("p",[s._v("å½“é“¾è¡¨é•¿åº¦å¤§äºæˆ–ç­‰äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º 8ï¼‰çš„æ—¶å€™ï¼Œå¦‚æœåŒæ—¶è¿˜æ»¡è¶³å®¹é‡å¤§äºæˆ–ç­‰äº MIN_TREEIFY_CAPACITYï¼ˆé»˜è®¤ä¸º 64ï¼‰çš„è¦æ±‚ï¼Œå°±ä¼šæŠŠé“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚åŒæ ·ï¼Œåç»­å¦‚æœç”±äºåˆ é™¤æˆ–è€…å…¶ä»–åŸå› è°ƒæ•´äº†å¤§å°ï¼Œå½“çº¢é»‘æ ‘çš„èŠ‚ç‚¹å°äºæˆ–ç­‰äº 6 ä¸ªä»¥åï¼Œåˆä¼šæ¢å¤ä¸ºé“¾è¡¨å½¢æ€")]),s._v(" "),a("p",[s._v("é‚£ä¸ºä»€ä¹ˆä¸ä¸€å¼€å§‹å°±ç”¨çº¢é»‘æ ‘ï¼Œåè€Œè¦ç»å†ä¸€ä¸ªè½¬æ¢çš„è¿‡ç¨‹å‘¢ï¼Ÿ")]),s._v(" "),a("p",[s._v("é€šè¿‡æŸ¥çœ‹æºç å¯ä»¥å‘ç°ï¼Œé»˜è®¤æ˜¯é“¾è¡¨é•¿åº¦è¾¾åˆ° 8 å°±è½¬æˆçº¢é»‘æ ‘ï¼Œè€Œå½“é•¿åº¦é™åˆ° 6 å°±è½¬æ¢å›å»ï¼Œè¿™ä½“ç°äº†æ—¶é—´å’Œç©ºé—´å¹³è¡¡çš„æ€æƒ³ï¼Œæœ€å¼€å§‹ä½¿ç”¨é“¾è¡¨çš„æ—¶å€™ï¼Œç©ºé—´å ç”¨æ˜¯æ¯”è¾ƒå°‘çš„ï¼Œè€Œä¸”ç”±äºé“¾è¡¨çŸ­ï¼Œæ‰€ä»¥æŸ¥è¯¢æ—¶é—´ä¹Ÿæ²¡æœ‰å¤ªå¤§çš„é—®é¢˜ã€‚å¯æ˜¯å½“é“¾è¡¨è¶Šæ¥è¶Šé•¿ï¼Œéœ€è¦ç”¨çº¢é»‘æ ‘çš„å½¢å¼æ¥ä¿è¯æŸ¥è¯¢çš„æ•ˆç‡ã€‚å¯¹äºä½•æ—¶åº”è¯¥ä»é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œéœ€è¦ç¡®å®šä¸€ä¸ªé˜ˆå€¼ï¼Œè¿™ä¸ªé˜ˆå€¼é»˜è®¤ä¸º 8ï¼Œå¹¶ä¸”åœ¨æºç ä¸­ä¹Ÿå¯¹é€‰æ‹© 8 è¿™ä¸ªæ•°å­—åšäº†è¯´æ˜ï¼Œ")]),s._v(" "),a("p",[s._v("å¦‚æœ hashCode åˆ†å¸ƒè‰¯å¥½ï¼Œä¹Ÿå°±æ˜¯ hash è®¡ç®—çš„ç»“æœç¦»æ•£å¥½çš„è¯ï¼Œé‚£ä¹ˆçº¢é»‘æ ‘è¿™ç§å½¢å¼æ˜¯å¾ˆå°‘ä¼šè¢«ç”¨åˆ°çš„ï¼Œå› ä¸ºå„ä¸ªå€¼éƒ½å‡åŒ€åˆ†å¸ƒï¼Œå¾ˆå°‘å‡ºç°é“¾è¡¨å¾ˆé•¿çš„æƒ…å†µã€‚åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œé“¾è¡¨é•¿åº¦ç¬¦åˆæ³Šæ¾åˆ†å¸ƒï¼Œå„ä¸ªé•¿åº¦çš„å‘½ä¸­æ¦‚ç‡ä¾æ¬¡é€’å‡ï¼Œå½“é•¿åº¦ä¸º 8 çš„æ—¶å€™ï¼Œæ¦‚ç‡ä»…ä¸º 0.00000006ã€‚è¿™æ˜¯ä¸€ä¸ªå°äºåƒä¸‡åˆ†ä¹‹ä¸€çš„æ¦‚ç‡ï¼Œé€šå¸¸æˆ‘ä»¬çš„ Map é‡Œé¢æ˜¯ä¸ä¼šå­˜å‚¨è¿™ä¹ˆå¤šçš„æ•°æ®çš„ï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œå¹¶ä¸ä¼šå‘ç”Ÿä»é“¾è¡¨å‘çº¢é»‘æ ‘çš„è½¬æ¢ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼ŒHashMap å†³å®šæŸä¸€ä¸ªå…ƒç´ è½åˆ°å“ªä¸€ä¸ªæ¡¶é‡Œï¼Œæ˜¯å’Œè¿™ä¸ªå¯¹è±¡çš„ hashCode æœ‰å…³çš„ï¼ŒJDK å¹¶ä¸èƒ½é˜»æ­¢æˆ‘ä»¬ç”¨æˆ·å®ç°è‡ªå·±çš„å“ˆå¸Œç®—æ³•ï¼Œå¦‚æœæˆ‘ä»¬æ•…æ„æŠŠå“ˆå¸Œç®—æ³•å˜å¾—ä¸å‡åŒ€ï¼Œ")]),s._v(" "),a("p",[s._v("è¿™é‡Œ hashCode è®¡ç®—å‡ºæ¥çš„å€¼å§‹ç»ˆä¸º 1ï¼Œé‚£ä¹ˆå°±å¾ˆå®¹æ˜“å¯¼è‡´ HashMap é‡Œçš„é“¾è¡¨å˜å¾—å¾ˆé•¿ã€‚")]),s._v(" "),a("p",[s._v("é“¾è¡¨é•¿åº¦è¶…è¿‡ 8 å°±è½¬ä¸ºçº¢é»‘æ ‘çš„è®¾è®¡ï¼Œæ›´å¤šçš„æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·è‡ªå·±å®ç°äº†ä¸å¥½çš„å“ˆå¸Œç®—æ³•æ—¶å¯¼è‡´é“¾è¡¨è¿‡é•¿ï¼Œä»è€Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡ä½ï¼Œè€Œæ­¤æ—¶è½¬ä¸ºçº¢é»‘æ ‘æ›´å¤šçš„æ˜¯ä¸€ç§ä¿åº•ç­–ç•¥ï¼Œç”¨æ¥ä¿è¯æç«¯æƒ…å†µä¸‹æŸ¥è¯¢çš„æ•ˆç‡ã€‚")]),s._v(" "),a("p",[s._v("é€šå¸¸å¦‚æœ hash ç®—æ³•æ­£å¸¸çš„è¯ï¼Œé‚£ä¹ˆé“¾è¡¨çš„é•¿åº¦ä¹Ÿä¸ä¼šå¾ˆé•¿ï¼Œé‚£ä¹ˆçº¢é»‘æ ‘ä¹Ÿä¸ä¼šå¸¦æ¥æ˜æ˜¾çš„æŸ¥è¯¢æ—¶é—´ä¸Šçš„ä¼˜åŠ¿ï¼Œåè€Œä¼šå¢åŠ ç©ºé—´è´Ÿæ‹…ã€‚æ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œå¹¶æ²¡æœ‰å¿…è¦è½¬ä¸ºçº¢é»‘æ ‘ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†æ¦‚ç‡éå¸¸å°ï¼Œå°äºåƒä¸‡åˆ†ä¹‹ä¸€æ¦‚ç‡ï¼Œä¹Ÿå°±æ˜¯é•¿åº¦ä¸º 8 çš„æ¦‚ç‡ï¼ŒæŠŠé•¿åº¦ 8 ä½œä¸ºè½¬åŒ–çš„é»˜è®¤é˜ˆå€¼ã€‚")]),s._v(" "),a("h3",{attrs:{id:"å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒº"}},[s._v("#")]),s._v(" å»ºç«‹ä¸€ä¸ªå…¬å…±æº¢å‡ºåŒº")]),s._v(" "),a("p",[s._v("å‡è®¾å“ˆå¸Œå‡½æ•°çš„å€¼åŸŸä¸º[0, m-1]ï¼Œè®¾å‘é‡HashTable[0,â€¦,m-1]ä¸ºåŸºæœ¬è¡¨ï¼Œæ¯ä¸ªåˆ†é‡å­˜æ”¾ä¸€ä¸ªè®°å½•ï¼Œå¦å¤–è¿˜è®¾ç½®äº†å‘é‡OverTable[0,â€¦,v]ä¸ºæº¢å‡ºè¡¨ã€‚åŸºæœ¬è¡¨ä¸­å­˜å‚¨çš„æ˜¯å…³é”®å­—çš„è®°å½•ï¼Œä¸€æ—¦å‘ç”Ÿå†²çªï¼Œä¸ç®¡ä»–ä»¬å“ˆå¸Œå‡½æ•°å¾—åˆ°çš„å“ˆå¸Œåœ°å€æ˜¯ä»€ä¹ˆï¼Œéƒ½å¡«å…¥æº¢å‡ºè¡¨ã€‚")]),s._v(" "),a("p",[s._v("ä½†è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹åœ¨äºï¼šæŸ¥æ‰¾å†²çªæ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦éå†æº¢å‡ºè¡¨æ‰èƒ½å¾—åˆ°æ•°æ®ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å¦‚ä½•å¯¹-nsmutablearray-è¿›è¡Œ-kvo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•å¯¹-nsmutablearray-è¿›è¡Œ-kvo"}},[s._v("#")]),s._v(" å¦‚ä½•å¯¹ NSMutableArray è¿›è¡Œ KVO")]),s._v(" "),a("p",[s._v("ä¸€èˆ¬æƒ…å†µä¸‹åªæœ‰é€šè¿‡è°ƒç”¨ set æ–¹æ³•å¯¹å€¼è¿›è¡Œæ”¹å˜æ‰ä¼šè§¦å‘ KVOã€‚ä½†æ˜¯åœ¨è°ƒç”¨NSMutableArrayçš„ addObjectæˆ–removeObject ç³»åˆ—æ–¹æ³•æ—¶ï¼Œå¹¶ä¸ä¼šè§¦å‘å®ƒçš„ set æ–¹æ³•ã€‚æ‰€ä»¥ä¸ºäº†å®ç°NSMutableArrayçš„ KVOï¼Œå®˜æ–¹ä¸ºæˆ‘ä»¬æä¾›äº†å¦‚ä¸‹æ–¹æ³•:")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@property (nonatomic, strong) NSMutableArray *arr;\n\n//æ·»åŠ å…ƒç´ æ“ä½œ\n[[self mutableArrayValueForKey:@"arr"] addObject:item];\n//ç§»é™¤å…ƒç´ æ“ä½œ\n[[self mutableArrayValueForKey:@"arr"] removeObjectAtIndex:0];\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"ç¬¦å·è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¦å·è¡¨"}},[s._v("#")]),s._v(" ç¬¦å·è¡¨")]),s._v(" "),a("p",[s._v("iOS æ„å»ºæ—¶äº§ç”Ÿçš„ç¬¦å·è¡¨ï¼Œæ˜¯å†…å­˜åœ°å€ã€å‡½æ•°åã€æ–‡ä»¶åå’Œè¡Œå·çš„æ˜ å°„è¡¨ã€‚æ ¼å¼å¤§æ¦‚æ˜¯ï¼š")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),a("p",[s._v("<èµ·å§‹åœ°å€> <ç»“æŸåœ°å€> <å‡½æ•°> [<æ–‡ä»¶å:è¡Œå·>]")])]),s._v(" "),a("p",[s._v("Crash æ—¶çš„å †æ ˆä¿¡æ¯ï¼Œå…¨æ˜¯äºŒè¿›åˆ¶çš„åœ°å€ä¿¡æ¯ã€‚å¦‚æœåˆ©ç”¨è¿™äº›äºŒè¿›åˆ¶çš„åœ°å€ä¿¡æ¯æ¥å®šä½é—®é¢˜æ˜¯ä¸å¯èƒ½çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†è¿™äº›äºŒè¿›åˆ¶çš„åœ°å€ä¿¡æ¯è¿˜åŸæˆæºä»£ç ç§çš„å‡½æ•°ä»¥åŠè¡Œå·ï¼Œè¿™æ—¶å€™ç¬¦å·è¡¨å°±èµ·ä½œç”¨äº†ã€‚åˆ©ç”¨ç¬¦å·è¡¨å°†åŸå§‹çš„ Crash çš„äºŒè¿›åˆ¶å †æ ˆä¿¡æ¯è¿˜åŸæˆåŒ…å«è¡Œå·çš„æºä»£ç æ–‡ä»¶ä¿¡æ¯ï¼Œå¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ã€‚iOS ä¸­çš„ç¬¦å·è¡¨æ–‡ä»¶(DSYM) æ˜¯åœ¨ç¼–è¯‘æºä»£ç åï¼Œå¤„ç†å®Œ Asset Catalog èµ„æºå’Œ info.plist æ–‡ä»¶åå¼€å§‹ç”Ÿæˆï¼Œç”Ÿæˆç¬¦å·è¡¨æ–‡ä»¶(DSYM)ä¹‹åï¼Œå†è¿›è¡Œåç»­çš„é“¾æ¥ã€æ‰“åŒ…ã€ç­¾åã€æ ¡éªŒç­‰æ­¥éª¤ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);