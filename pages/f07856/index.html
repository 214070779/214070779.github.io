<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>循环引用 | 洋仔的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <meta name="description" content="专心做事，用心总结">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.55beba5e.css" as="style"><link rel="preload" href="/assets/js/app.cc55d274.js" as="script"><link rel="preload" href="/assets/js/2.81b2a5fe.js" as="script"><link rel="preload" href="/assets/js/48.228e3df9.js" as="script"><link rel="prefetch" href="/assets/js/10.fd87ea06.js"><link rel="prefetch" href="/assets/js/100.033c06ef.js"><link rel="prefetch" href="/assets/js/101.1c0e8fbb.js"><link rel="prefetch" href="/assets/js/102.820c15ea.js"><link rel="prefetch" href="/assets/js/103.1f4387c0.js"><link rel="prefetch" href="/assets/js/104.6b56fc18.js"><link rel="prefetch" href="/assets/js/105.7e174701.js"><link rel="prefetch" href="/assets/js/106.e7ed90dd.js"><link rel="prefetch" href="/assets/js/107.5dff726f.js"><link rel="prefetch" href="/assets/js/108.1b4254ab.js"><link rel="prefetch" href="/assets/js/109.db801d19.js"><link rel="prefetch" href="/assets/js/11.4cd9f768.js"><link rel="prefetch" href="/assets/js/110.51ed8450.js"><link rel="prefetch" href="/assets/js/111.1ed05a5b.js"><link rel="prefetch" href="/assets/js/112.d7f263da.js"><link rel="prefetch" href="/assets/js/113.dea11b47.js"><link rel="prefetch" href="/assets/js/114.ad6403dc.js"><link rel="prefetch" href="/assets/js/115.28cf40c7.js"><link rel="prefetch" href="/assets/js/116.02bcdc6e.js"><link rel="prefetch" href="/assets/js/117.75a9e1eb.js"><link rel="prefetch" href="/assets/js/118.03e0d0e9.js"><link rel="prefetch" href="/assets/js/119.766321d8.js"><link rel="prefetch" href="/assets/js/12.1f119179.js"><link rel="prefetch" href="/assets/js/120.4acf5e51.js"><link rel="prefetch" href="/assets/js/121.a4fcaab7.js"><link rel="prefetch" href="/assets/js/122.d2cc02cb.js"><link rel="prefetch" href="/assets/js/123.c4c3b254.js"><link rel="prefetch" href="/assets/js/124.55aefdfc.js"><link rel="prefetch" href="/assets/js/125.33021e89.js"><link rel="prefetch" href="/assets/js/126.bf744470.js"><link rel="prefetch" href="/assets/js/127.d1b1efb8.js"><link rel="prefetch" href="/assets/js/128.8c1b4252.js"><link rel="prefetch" href="/assets/js/129.ac017f9f.js"><link rel="prefetch" href="/assets/js/13.0f009df8.js"><link rel="prefetch" href="/assets/js/130.fdc573c0.js"><link rel="prefetch" href="/assets/js/131.c4f70462.js"><link rel="prefetch" href="/assets/js/132.d874068e.js"><link rel="prefetch" href="/assets/js/133.3344bf55.js"><link rel="prefetch" href="/assets/js/134.86c9bfea.js"><link rel="prefetch" href="/assets/js/135.7761e325.js"><link rel="prefetch" href="/assets/js/136.99654544.js"><link rel="prefetch" href="/assets/js/137.25867633.js"><link rel="prefetch" href="/assets/js/138.3016a91b.js"><link rel="prefetch" href="/assets/js/139.ead29e5f.js"><link rel="prefetch" href="/assets/js/14.1c908535.js"><link rel="prefetch" href="/assets/js/140.2217ee0f.js"><link rel="prefetch" href="/assets/js/141.faed4896.js"><link rel="prefetch" href="/assets/js/142.3786cfaa.js"><link rel="prefetch" href="/assets/js/143.680d45a4.js"><link rel="prefetch" href="/assets/js/144.5e0d30d9.js"><link rel="prefetch" href="/assets/js/145.a2c5cf58.js"><link rel="prefetch" href="/assets/js/146.215c3961.js"><link rel="prefetch" href="/assets/js/147.81e5dbea.js"><link rel="prefetch" href="/assets/js/148.7ef156fa.js"><link rel="prefetch" href="/assets/js/149.07344fb0.js"><link rel="prefetch" href="/assets/js/15.24686777.js"><link rel="prefetch" href="/assets/js/150.100e1276.js"><link rel="prefetch" href="/assets/js/151.5a0852bd.js"><link rel="prefetch" href="/assets/js/152.d0e587d9.js"><link rel="prefetch" href="/assets/js/153.007ec2d1.js"><link rel="prefetch" href="/assets/js/154.3178d124.js"><link rel="prefetch" href="/assets/js/155.53357b05.js"><link rel="prefetch" href="/assets/js/156.d5438e93.js"><link rel="prefetch" href="/assets/js/157.8afa8209.js"><link rel="prefetch" href="/assets/js/158.0434bf90.js"><link rel="prefetch" href="/assets/js/159.64687b5f.js"><link rel="prefetch" href="/assets/js/16.12f4db26.js"><link rel="prefetch" href="/assets/js/160.56d76ff4.js"><link rel="prefetch" href="/assets/js/161.f6414d3f.js"><link rel="prefetch" href="/assets/js/162.b9de4b51.js"><link rel="prefetch" href="/assets/js/163.07e063ef.js"><link rel="prefetch" href="/assets/js/164.3acfc294.js"><link rel="prefetch" href="/assets/js/165.66703a7d.js"><link rel="prefetch" href="/assets/js/166.cb851667.js"><link rel="prefetch" href="/assets/js/167.4098c444.js"><link rel="prefetch" href="/assets/js/168.a80d728b.js"><link rel="prefetch" href="/assets/js/169.bd937a75.js"><link rel="prefetch" href="/assets/js/17.6c77ddb7.js"><link rel="prefetch" href="/assets/js/170.e3d78c48.js"><link rel="prefetch" href="/assets/js/171.bceae2ae.js"><link rel="prefetch" href="/assets/js/172.ce9b722c.js"><link rel="prefetch" href="/assets/js/173.e47f9666.js"><link rel="prefetch" href="/assets/js/174.7997805c.js"><link rel="prefetch" href="/assets/js/175.00237921.js"><link rel="prefetch" href="/assets/js/176.0fa3c92e.js"><link rel="prefetch" href="/assets/js/177.78d4055c.js"><link rel="prefetch" href="/assets/js/178.3b9e2d49.js"><link rel="prefetch" href="/assets/js/179.ffd38cbc.js"><link rel="prefetch" href="/assets/js/18.bdd3ef44.js"><link rel="prefetch" href="/assets/js/180.ea1e7437.js"><link rel="prefetch" href="/assets/js/181.1b990f8f.js"><link rel="prefetch" href="/assets/js/182.2294fb00.js"><link rel="prefetch" href="/assets/js/183.d49c9d33.js"><link rel="prefetch" href="/assets/js/184.ad8b9900.js"><link rel="prefetch" href="/assets/js/185.da48669b.js"><link rel="prefetch" href="/assets/js/186.650a47d2.js"><link rel="prefetch" href="/assets/js/187.dc3e7f5f.js"><link rel="prefetch" href="/assets/js/188.d372ce27.js"><link rel="prefetch" href="/assets/js/189.fa1c9909.js"><link rel="prefetch" href="/assets/js/19.10c0d5b8.js"><link rel="prefetch" href="/assets/js/190.6c1b8013.js"><link rel="prefetch" href="/assets/js/191.6676590e.js"><link rel="prefetch" href="/assets/js/192.cb1953e2.js"><link rel="prefetch" href="/assets/js/193.a6ae7e91.js"><link rel="prefetch" href="/assets/js/194.2ebc2436.js"><link rel="prefetch" href="/assets/js/195.35be6114.js"><link rel="prefetch" href="/assets/js/196.b360067a.js"><link rel="prefetch" href="/assets/js/197.c0234eef.js"><link rel="prefetch" href="/assets/js/198.6231b11b.js"><link rel="prefetch" href="/assets/js/199.838ff34e.js"><link rel="prefetch" href="/assets/js/20.92725459.js"><link rel="prefetch" href="/assets/js/200.5dc57180.js"><link rel="prefetch" href="/assets/js/201.39e5421a.js"><link rel="prefetch" href="/assets/js/202.0a56fa31.js"><link rel="prefetch" href="/assets/js/203.90d6ea32.js"><link rel="prefetch" href="/assets/js/204.48311b42.js"><link rel="prefetch" href="/assets/js/205.e1f37224.js"><link rel="prefetch" href="/assets/js/206.92c38d74.js"><link rel="prefetch" href="/assets/js/207.3493f997.js"><link rel="prefetch" href="/assets/js/208.d2d00438.js"><link rel="prefetch" href="/assets/js/209.7ff3e1db.js"><link rel="prefetch" href="/assets/js/21.703ec124.js"><link rel="prefetch" href="/assets/js/210.b9e087c1.js"><link rel="prefetch" href="/assets/js/211.0b5f6ae5.js"><link rel="prefetch" href="/assets/js/212.5a5a4e85.js"><link rel="prefetch" href="/assets/js/213.ddea0aff.js"><link rel="prefetch" href="/assets/js/214.06e03126.js"><link rel="prefetch" href="/assets/js/215.99e71be9.js"><link rel="prefetch" href="/assets/js/216.5ab77662.js"><link rel="prefetch" href="/assets/js/217.5b8b2a56.js"><link rel="prefetch" href="/assets/js/218.656d4df8.js"><link rel="prefetch" href="/assets/js/219.2f9282d7.js"><link rel="prefetch" href="/assets/js/22.7832c9ca.js"><link rel="prefetch" href="/assets/js/220.05012b4c.js"><link rel="prefetch" href="/assets/js/221.150b41d4.js"><link rel="prefetch" href="/assets/js/222.18bfe57a.js"><link rel="prefetch" href="/assets/js/223.5d9b036a.js"><link rel="prefetch" href="/assets/js/224.cd5efc56.js"><link rel="prefetch" href="/assets/js/225.fe1ef215.js"><link rel="prefetch" href="/assets/js/226.b5602968.js"><link rel="prefetch" href="/assets/js/227.9f3fc228.js"><link rel="prefetch" href="/assets/js/228.a9a155dc.js"><link rel="prefetch" href="/assets/js/229.53d80ddd.js"><link rel="prefetch" href="/assets/js/23.8e2d40f9.js"><link rel="prefetch" href="/assets/js/230.4918b1a6.js"><link rel="prefetch" href="/assets/js/231.ca415abb.js"><link rel="prefetch" href="/assets/js/232.04bfb190.js"><link rel="prefetch" href="/assets/js/233.d2a40489.js"><link rel="prefetch" href="/assets/js/234.e2aacb9a.js"><link rel="prefetch" href="/assets/js/235.163536f8.js"><link rel="prefetch" href="/assets/js/236.6c845360.js"><link rel="prefetch" href="/assets/js/237.cad6b7ea.js"><link rel="prefetch" href="/assets/js/238.c802c732.js"><link rel="prefetch" href="/assets/js/239.3a5fe17c.js"><link rel="prefetch" href="/assets/js/24.4c371769.js"><link rel="prefetch" href="/assets/js/240.27f6052d.js"><link rel="prefetch" href="/assets/js/241.a631c566.js"><link rel="prefetch" href="/assets/js/242.01736d0d.js"><link rel="prefetch" href="/assets/js/243.b1af5586.js"><link rel="prefetch" href="/assets/js/244.18016cf2.js"><link rel="prefetch" href="/assets/js/245.0626c28d.js"><link rel="prefetch" href="/assets/js/246.73f699ec.js"><link rel="prefetch" href="/assets/js/247.f444bd44.js"><link rel="prefetch" href="/assets/js/248.65a80d31.js"><link rel="prefetch" href="/assets/js/249.0dd1d0d9.js"><link rel="prefetch" href="/assets/js/25.b040b00d.js"><link rel="prefetch" href="/assets/js/250.69712e0b.js"><link rel="prefetch" href="/assets/js/251.d4d3c3e2.js"><link rel="prefetch" href="/assets/js/252.6484f155.js"><link rel="prefetch" href="/assets/js/253.410f1ed5.js"><link rel="prefetch" href="/assets/js/254.e8b85c6f.js"><link rel="prefetch" href="/assets/js/255.d2df3587.js"><link rel="prefetch" href="/assets/js/256.09bb0d0e.js"><link rel="prefetch" href="/assets/js/257.71461633.js"><link rel="prefetch" href="/assets/js/258.af2f399d.js"><link rel="prefetch" href="/assets/js/259.9ec5e83b.js"><link rel="prefetch" href="/assets/js/26.a1fb922a.js"><link rel="prefetch" href="/assets/js/260.cac8239f.js"><link rel="prefetch" href="/assets/js/261.925d41ff.js"><link rel="prefetch" href="/assets/js/262.28633c4a.js"><link rel="prefetch" href="/assets/js/263.f21c004b.js"><link rel="prefetch" href="/assets/js/264.57e4ff6c.js"><link rel="prefetch" href="/assets/js/265.c962904f.js"><link rel="prefetch" href="/assets/js/266.5d28c35b.js"><link rel="prefetch" href="/assets/js/267.966d88be.js"><link rel="prefetch" href="/assets/js/268.7f072ba9.js"><link rel="prefetch" href="/assets/js/269.8a2bbc16.js"><link rel="prefetch" href="/assets/js/27.8ae4e4fd.js"><link rel="prefetch" href="/assets/js/270.c7dbb8c2.js"><link rel="prefetch" href="/assets/js/271.fd0a8147.js"><link rel="prefetch" href="/assets/js/272.39f2833e.js"><link rel="prefetch" href="/assets/js/273.5d03fdb3.js"><link rel="prefetch" href="/assets/js/274.d7cde43a.js"><link rel="prefetch" href="/assets/js/275.2b84609e.js"><link rel="prefetch" href="/assets/js/276.2ba14d83.js"><link rel="prefetch" href="/assets/js/277.bedaa21d.js"><link rel="prefetch" href="/assets/js/278.9750200e.js"><link rel="prefetch" href="/assets/js/279.54cf5084.js"><link rel="prefetch" href="/assets/js/28.7c726cfd.js"><link rel="prefetch" href="/assets/js/280.24775da3.js"><link rel="prefetch" href="/assets/js/281.f44383db.js"><link rel="prefetch" href="/assets/js/282.5dd2530b.js"><link rel="prefetch" href="/assets/js/283.60a029cc.js"><link rel="prefetch" href="/assets/js/284.80d5c684.js"><link rel="prefetch" href="/assets/js/285.2233e644.js"><link rel="prefetch" href="/assets/js/286.2e6924e4.js"><link rel="prefetch" href="/assets/js/287.52470b25.js"><link rel="prefetch" href="/assets/js/288.0c9d41ca.js"><link rel="prefetch" href="/assets/js/289.57b35055.js"><link rel="prefetch" href="/assets/js/29.5762da80.js"><link rel="prefetch" href="/assets/js/290.3765d6a5.js"><link rel="prefetch" href="/assets/js/291.6bd15b79.js"><link rel="prefetch" href="/assets/js/292.afb5a75a.js"><link rel="prefetch" href="/assets/js/293.f5759dcb.js"><link rel="prefetch" href="/assets/js/294.2209dfe5.js"><link rel="prefetch" href="/assets/js/295.f7e224d5.js"><link rel="prefetch" href="/assets/js/296.36fde749.js"><link rel="prefetch" href="/assets/js/297.df8a1239.js"><link rel="prefetch" href="/assets/js/298.d0028860.js"><link rel="prefetch" href="/assets/js/299.f44a0e98.js"><link rel="prefetch" href="/assets/js/3.1b6e43a5.js"><link rel="prefetch" href="/assets/js/30.f7bd2da9.js"><link rel="prefetch" href="/assets/js/300.e1e1e2af.js"><link rel="prefetch" href="/assets/js/301.ac068e67.js"><link rel="prefetch" href="/assets/js/302.1e2a778b.js"><link rel="prefetch" href="/assets/js/303.32c1023d.js"><link rel="prefetch" href="/assets/js/304.2bd7d59c.js"><link rel="prefetch" href="/assets/js/305.0e0b08a3.js"><link rel="prefetch" href="/assets/js/306.48947241.js"><link rel="prefetch" href="/assets/js/307.04186968.js"><link rel="prefetch" href="/assets/js/308.b6b41f7b.js"><link rel="prefetch" href="/assets/js/309.ed01b460.js"><link rel="prefetch" href="/assets/js/31.81b4a4d2.js"><link rel="prefetch" href="/assets/js/310.61ab2756.js"><link rel="prefetch" href="/assets/js/311.dfa83b75.js"><link rel="prefetch" href="/assets/js/312.21c9fcf2.js"><link rel="prefetch" href="/assets/js/313.9c7bdcf7.js"><link rel="prefetch" href="/assets/js/314.444459f4.js"><link rel="prefetch" href="/assets/js/315.01c2dddd.js"><link rel="prefetch" href="/assets/js/316.fa19412e.js"><link rel="prefetch" href="/assets/js/317.b8e81823.js"><link rel="prefetch" href="/assets/js/318.a76c19a2.js"><link rel="prefetch" href="/assets/js/319.b6d393e9.js"><link rel="prefetch" href="/assets/js/32.d9074bf8.js"><link rel="prefetch" href="/assets/js/320.b9b7d53d.js"><link rel="prefetch" href="/assets/js/321.377dc9df.js"><link rel="prefetch" href="/assets/js/322.5414100c.js"><link rel="prefetch" href="/assets/js/323.0edddb0c.js"><link rel="prefetch" href="/assets/js/324.a3c19125.js"><link rel="prefetch" href="/assets/js/325.0a931352.js"><link rel="prefetch" href="/assets/js/326.99cd4779.js"><link rel="prefetch" href="/assets/js/327.aa0bbc95.js"><link rel="prefetch" href="/assets/js/328.8d936413.js"><link rel="prefetch" href="/assets/js/329.86331300.js"><link rel="prefetch" href="/assets/js/33.61cbe880.js"><link rel="prefetch" href="/assets/js/330.2f949c81.js"><link rel="prefetch" href="/assets/js/331.27c8897b.js"><link rel="prefetch" href="/assets/js/332.2a06265f.js"><link rel="prefetch" href="/assets/js/333.5380694f.js"><link rel="prefetch" href="/assets/js/334.a4fc88c7.js"><link rel="prefetch" href="/assets/js/335.d24aa360.js"><link rel="prefetch" href="/assets/js/336.e6c27799.js"><link rel="prefetch" href="/assets/js/337.7068bfa9.js"><link rel="prefetch" href="/assets/js/338.05129acf.js"><link rel="prefetch" href="/assets/js/339.32a155e4.js"><link rel="prefetch" href="/assets/js/34.458856b1.js"><link rel="prefetch" href="/assets/js/340.79f4160c.js"><link rel="prefetch" href="/assets/js/341.1845d39d.js"><link rel="prefetch" href="/assets/js/342.e9025266.js"><link rel="prefetch" href="/assets/js/343.022762e6.js"><link rel="prefetch" href="/assets/js/344.5f6ede26.js"><link rel="prefetch" href="/assets/js/345.0f09d3e9.js"><link rel="prefetch" href="/assets/js/346.baf57bd3.js"><link rel="prefetch" href="/assets/js/347.fca5ad32.js"><link rel="prefetch" href="/assets/js/348.ee72d1c4.js"><link rel="prefetch" href="/assets/js/349.3d1973a7.js"><link rel="prefetch" href="/assets/js/35.bd72afbd.js"><link rel="prefetch" href="/assets/js/350.6c10a97f.js"><link rel="prefetch" href="/assets/js/351.2b4fcad2.js"><link rel="prefetch" href="/assets/js/352.cc2e2e46.js"><link rel="prefetch" href="/assets/js/353.93baf91c.js"><link rel="prefetch" href="/assets/js/354.ce9d0e4c.js"><link rel="prefetch" href="/assets/js/355.110b2119.js"><link rel="prefetch" href="/assets/js/356.31c1cb3f.js"><link rel="prefetch" href="/assets/js/357.fc56933d.js"><link rel="prefetch" href="/assets/js/358.3d6f0995.js"><link rel="prefetch" href="/assets/js/359.e42fb771.js"><link rel="prefetch" href="/assets/js/36.51ff5da4.js"><link rel="prefetch" href="/assets/js/360.b23f20a6.js"><link rel="prefetch" href="/assets/js/361.d40a5970.js"><link rel="prefetch" href="/assets/js/362.5526289b.js"><link rel="prefetch" href="/assets/js/363.57de68f3.js"><link rel="prefetch" href="/assets/js/364.be1cb110.js"><link rel="prefetch" href="/assets/js/365.61d49f0a.js"><link rel="prefetch" href="/assets/js/366.b507225c.js"><link rel="prefetch" href="/assets/js/367.7b1436ad.js"><link rel="prefetch" href="/assets/js/368.dcd60637.js"><link rel="prefetch" href="/assets/js/369.51c46392.js"><link rel="prefetch" href="/assets/js/37.4d7470cc.js"><link rel="prefetch" href="/assets/js/370.79f0015e.js"><link rel="prefetch" href="/assets/js/371.d8c48ef6.js"><link rel="prefetch" href="/assets/js/372.3ccfa0e9.js"><link rel="prefetch" href="/assets/js/373.6ff5c143.js"><link rel="prefetch" href="/assets/js/374.f4fcf914.js"><link rel="prefetch" href="/assets/js/375.d24d77a1.js"><link rel="prefetch" href="/assets/js/376.46fa8c82.js"><link rel="prefetch" href="/assets/js/377.dc0360fd.js"><link rel="prefetch" href="/assets/js/38.b792089b.js"><link rel="prefetch" href="/assets/js/39.65ad4770.js"><link rel="prefetch" href="/assets/js/4.86cba761.js"><link rel="prefetch" href="/assets/js/40.8b58385f.js"><link rel="prefetch" href="/assets/js/41.398e86ae.js"><link rel="prefetch" href="/assets/js/42.789f1388.js"><link rel="prefetch" href="/assets/js/43.05f9d13d.js"><link rel="prefetch" href="/assets/js/44.c2b40548.js"><link rel="prefetch" href="/assets/js/45.df48e9a2.js"><link rel="prefetch" href="/assets/js/46.b83749fb.js"><link rel="prefetch" href="/assets/js/47.7ef7d498.js"><link rel="prefetch" href="/assets/js/49.fda0dc0b.js"><link rel="prefetch" href="/assets/js/5.3a0ea465.js"><link rel="prefetch" href="/assets/js/50.d9cf5581.js"><link rel="prefetch" href="/assets/js/51.3096a574.js"><link rel="prefetch" href="/assets/js/52.479127e5.js"><link rel="prefetch" href="/assets/js/53.5e0b1963.js"><link rel="prefetch" href="/assets/js/54.59740785.js"><link rel="prefetch" href="/assets/js/55.3b7f709a.js"><link rel="prefetch" href="/assets/js/56.54492258.js"><link rel="prefetch" href="/assets/js/57.35db8f10.js"><link rel="prefetch" href="/assets/js/58.4de20d90.js"><link rel="prefetch" href="/assets/js/59.63dfef23.js"><link rel="prefetch" href="/assets/js/6.5a97029d.js"><link rel="prefetch" href="/assets/js/60.fdf12a20.js"><link rel="prefetch" href="/assets/js/61.fe3f97d3.js"><link rel="prefetch" href="/assets/js/62.f1b0daf7.js"><link rel="prefetch" href="/assets/js/63.93837b5d.js"><link rel="prefetch" href="/assets/js/64.97a1fe26.js"><link rel="prefetch" href="/assets/js/65.70f35686.js"><link rel="prefetch" href="/assets/js/66.3ba3c686.js"><link rel="prefetch" href="/assets/js/67.14cef3f2.js"><link rel="prefetch" href="/assets/js/68.e8a147f5.js"><link rel="prefetch" href="/assets/js/69.24e88bd2.js"><link rel="prefetch" href="/assets/js/7.ce6c36f3.js"><link rel="prefetch" href="/assets/js/70.15818cd2.js"><link rel="prefetch" href="/assets/js/71.119594cc.js"><link rel="prefetch" href="/assets/js/72.9fcbbf86.js"><link rel="prefetch" href="/assets/js/73.b82c6339.js"><link rel="prefetch" href="/assets/js/74.32848a73.js"><link rel="prefetch" href="/assets/js/75.6efef423.js"><link rel="prefetch" href="/assets/js/76.17ea6bee.js"><link rel="prefetch" href="/assets/js/77.220ac10b.js"><link rel="prefetch" href="/assets/js/78.a880b44d.js"><link rel="prefetch" href="/assets/js/79.217ab01c.js"><link rel="prefetch" href="/assets/js/8.cbd97eba.js"><link rel="prefetch" href="/assets/js/80.2e717400.js"><link rel="prefetch" href="/assets/js/81.b7277c4e.js"><link rel="prefetch" href="/assets/js/82.8e22a60c.js"><link rel="prefetch" href="/assets/js/83.c39494a6.js"><link rel="prefetch" href="/assets/js/84.e379d0cd.js"><link rel="prefetch" href="/assets/js/85.3f7d9716.js"><link rel="prefetch" href="/assets/js/86.a7c0bd99.js"><link rel="prefetch" href="/assets/js/87.eb9b0263.js"><link rel="prefetch" href="/assets/js/88.32d31cd7.js"><link rel="prefetch" href="/assets/js/89.cb0eb0c6.js"><link rel="prefetch" href="/assets/js/9.e79b9220.js"><link rel="prefetch" href="/assets/js/90.2aa9f60f.js"><link rel="prefetch" href="/assets/js/91.979af91d.js"><link rel="prefetch" href="/assets/js/92.ecca824d.js"><link rel="prefetch" href="/assets/js/93.70a3d5ac.js"><link rel="prefetch" href="/assets/js/94.c163ecdc.js"><link rel="prefetch" href="/assets/js/95.d5eb2ea5.js"><link rel="prefetch" href="/assets/js/96.d596f924.js"><link rel="prefetch" href="/assets/js/97.fde076d3.js"><link rel="prefetch" href="/assets/js/98.1189bd76.js"><link rel="prefetch" href="/assets/js/99.9e004fea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55beba5e.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="洋仔的博客" class="logo"> <span class="site-name can-hide">洋仔的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人心法" class="dropdown-title"><a href="/person/" class="link-title">个人心法</a> <span class="title" style="display:none;">个人心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>个人心法总结</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/fe3f91/" class="nav-link">价值心法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/d13cac/" class="nav-link">iOS基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">前端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/more/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/15d3d8/" class="nav-link">投资体系</a></li><li class="dropdown-item"><!----> <a href="/pages/4db018/" class="nav-link">毛选</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/214070779/publicPicture@master/pingtou.5ytkqlpmd940.webp"> <div class="blogger-info"><h3>洋仔</h3> <span>奋斗的小青年</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人心法" class="dropdown-title"><a href="/person/" class="link-title">个人心法</a> <span class="title" style="display:none;">个人心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>个人心法总结</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/fe3f91/" class="nav-link">价值心法</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/pages/d13cac/" class="nav-link">iOS基础知识</a></li><li class="dropdown-item"><!----> <a href="/pages/8309a5b876fc95e3/" class="nav-link">前端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><a href="/more/" class="link-title">其他</a> <span class="title" style="display:none;">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/15d3d8/" class="nav-link">投资体系</a></li><li class="dropdown-item"><!----> <a href="/pages/4db018/" class="nav-link">毛选</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GitHub技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>博客搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>iOS基础知识</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>iOS底层相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Runloop系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Runtime系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>内存管理系列</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/38441f/" class="sidebar-link">weak的实现原理</a></li><li><a href="/pages/fff5f1/" class="sidebar-link">内存管理系列</a></li><li><a href="/pages/e8df1b/" class="sidebar-link">autoReleasePool</a></li><li><a href="/pages/f07856/" aria-current="page" class="active sidebar-link">循环引用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/42c60f/" class="sidebar-link">内存管理自我总结</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Block系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>线程系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>KVC跟KVO系列以及通知中心</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>UI系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>离屏渲染系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>组件化系列跟架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>OC跟webview交互系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>持久化系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>APP编译系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>APP性能优化系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>cocoapods系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>swift系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Git系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>网络相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>三方库系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>系统原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>总结系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>算法系列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>数据结构系列</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/ui/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/ui/#iOS基础知识" data-v-06225672>iOS基础知识</a></li><li data-v-06225672><a href="/ui/#内存管理系列" data-v-06225672>内存管理系列</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/214070779" target="_blank" title="作者" class="beLink" data-v-06225672>洋仔</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-09-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">循环引用<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h3 id="_1-什么是循环引用问题"><a href="#_1-什么是循环引用问题" class="header-anchor">#</a> 1.什么是循环引用问题？</h3> <p>上篇文章说到循环引用的问题，其实引用计数这种管理<a href="https://so.csdn.net/so/search?q=%E5%86%85%E5%AD%98&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">内存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的方式虽然简单，但是有一个瑕疵，它不能很好的解决循环引用的问题。如图展示：</p> <p><img src="https://img-blog.csdn.net/20170705134440693?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3V6elpZdWVz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p> <p>对象A和对象B，互相引用了对方作为自己的成员变量，只有当自己销毁的时候，才会将成员变量的引用计数减1。因为对象A的摧毁依赖于对象B的销毁，而对象B的销毁依赖与对象A的销毁，这样就造成了循环引用问题。即使在外界已经没有任何指针能访问它们了，它们这种互相依赖关系也无法被释放。</p> <p>不止两个对象可以产生循环引用问题，多个对象间依次持有，形成一个环路造成循环引用，这是最恶心的，因为在实际开发中，环大起来简直要命了，很难找出来。</p> <p><img src="https://img-blog.csdn.net/20170705135210339?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY3V6elpZdWVz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p> <h3 id="_2-解决循环引用"><a href="#_2-解决循环引用" class="header-anchor">#</a> 2.解决循环引用</h3> <p>解决办法有两个，第一个办法就是我明确知道这里会存在循环引用，在合理的位置主动的断开环中的一个引用，使得对象得以回收。但是这种方法并不是很好用，依赖于程序员对具体业务逻辑相当的熟悉。现在，更常见的是第二种方法：使用弱引用（weak reference）的办法。</p> <p>弱引用虽然持有对象，但是并不增加引用计数，这样就避免了循环引用的产生。在iOS开发中，弱引用通常在delegate模式中使用。这个之前的文章有说过的。传送门：<a href="http://blog.csdn.net/cuzzZYues/article/details/73691085" target="_blank" rel="noopener noreferrer">iOS - Delegate代理为什么要用weak修饰（面试官钟爱）_ios delegate为什么weak-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="二、循环引用类型-哪些场景会有循环引用问题"><a href="#二、循环引用类型-哪些场景会有循环引用问题" class="header-anchor">#</a> 二、循环引用类型（哪些场景会有循环引用问题）</h3> <h5 id="自循环引用"><a href="#自循环引用" class="header-anchor">#</a> 自循环引用</h5> <p>假如有一个对象，内部强持有它的成员变量 obj，若此时我们 给 o bj 赋值为原对象时，就是自循环引用。</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=13e47707e1794fdab756bf64e95d55d5&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <h5 id="相互循环引用"><a href="#相互循环引用" class="header-anchor">#</a> 相互循环引用</h5> <p>对象 A 内部强 持有 obj ， 对象 B 内部强持有 obj ， 若 此时对 象 A 的 obj 指 向对 象 B ，同时对 象 B 中的 obj 指向对象 A，就是相互引用。</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=a0c4524ec5ec4cd2a0e9036d034a01a8&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <h5 id="多循环引用"><a href="#多循环引用" class="header-anchor">#</a> 多循环引用</h5> <p>假如类中有对象 1...对象 N，每个对象中都强持有一 个 obj，若每个对 象的 obj 都指向下个对象，就产生了多循环引用。</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=c4bc27f7ffa04f99afccc33c4e4ee76d&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>**总之，识别循环引用的核心就是：**<em><strong>两个或多个对象之间是否存在保留环。</strong></em></p> <h3 id="三、常见循环用及原因"><a href="#三、常见循环用及原因" class="header-anchor">#</a> 三、常见循环用及原因</h3> <h5 id="代理"><a href="#代理" class="header-anchor">#</a> 代理</h5> <p>VC页面强持有UITableView，UITableView强持有Cell，在设置Cell的delegate为VC时，如果使用strong，这样就会形成循环引用。</p> <p>VC-&gt;UITableView-&gt;Cell-&gt;VC</p> <p>这种循环引用，比较简单，把Cell的delegate属性使用weak修饰，进行弱引用VC即可。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@interface ViewController ()

@property (nonatomic, copy) NSArray *array;
@property (nonatomic, copy) void (^myBlock)(void);

@end

@implementation ViewController

- (void)viewDidLoad {
    [super viewDidLoad];

    self.myBlock = ^{
        NSLog(@&quot;%@&quot;, self.array); // Capturing 'self' strongly in this block is likely to lead to a retain cycle
        NSLog(@&quot;%@&quot;, _array); // Block implicitly retains 'self'; explicitly mention 'self' to indicate this is intended behavior
    };
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>1.因为<code>self</code>强引用了<code>myblock</code>，此时<code>myblock</code>在堆上，<code>myblock</code>捕获<code>self</code>并在其中强制持有，会导致保留环。</p> <blockquote><p>出现以下情况时，ARC 会自动对 block 执行一次 copy 操作，将其从栈区移动到堆区：</p> <ol><li><p>当 block 作为函数返回值时。</p></li> <li><p>当 block 被强指针引用时。</p></li> <li><p>当 Cocoa API 方法名包含usingBlock，且 block 作为参数时，或 block 作为 GCD API 方法参数</p></li></ol></blockquote> <p>2.<code>myblock</code>中使用了<code>self</code>的实例变量 <code>_array</code> ，因此<code>myblock</code>会隐式的retain住<code>self</code>。(因为访问成员变量本质上是在调用<code>self-&gt;instance</code>，即仍然访问了<code>self</code>。)</p> <p>解决方案：</p> <p>在block外部使用__weak生成一个对self的弱引用weakSelf，block捕获weakSelf时，会连同他的修饰符进行捕获，在block对象内部产生一个指向真实内存区的__weak引用。从而解决了block对真实内存区的强引用问题</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>__weak typeof(self) weakSelf = self;
self.myBlock = ^{
   NSLog(@&quot;%@&quot;, weakSelf.array);
   NSLog(@&quot;%@&quot;, weakSelf-&gt;_array);
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>那self和weakSelf一样么？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>NSLog(@&quot;self === %p&quot;, &amp;self);
__weak typeof(self) weakSelf = self;
self.myBlock = ^{
    NSLog(@&quot;weakSelf === %p&quot;, &amp;weakSelf);
    NSLog(@&quot;%@&quot;, weakSelf.array);
};
self.myBlock();

// 打印
self === 0x16aff39b8
weakSelf === 0x600003bac050
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>进入block外和block里面的weakSelf是不一样的。</p> <p>我们使用：xcrun -sdk iphoneos clang -arch arm64 -rewrite-objc -fobjc-arc -fobjc-runtime=ios-14.0.0 ViewController.m 命令，将ViewController.m转成C++代码</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// @implementation ViewController

struct __ViewController__viewDidLoad_block_impl_0 {
  struct __block_impl impl;
  struct __ViewController__viewDidLoad_block_desc_0* Desc;
  ViewController *const __weak weakSelf; // 对捕获的weakSelf进行弱引用。
  __ViewController__viewDidLoad_block_impl_0(void *fp, struct __ViewController__viewDidLoad_block_desc_0 *desc, ViewController *const __weak _weakSelf, int flags=0) : weakSelf(_weakSelf) {
    impl.isa = &amp;_NSConcreteStackBlock;
    impl.Flags = flags;
    impl.FuncPtr = fp;
    Desc = desc;
  }
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>通过源码可以看出，block内部对捕获的weakSelf进行了弱引用，从而打破了block强引用self的这一层关系。</p> <p>为什么我们在项目中，block体里有时候又会使用strongSelf呢？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>__strong typeof(weakSelf) strongSelf = weakSelf;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>假设有这样的场景：block里面有延迟操作self的持有的对象时，如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.car = [[Car alloc] init];
    self.car.name = @&quot;xiaomi su7&quot;;

    __weak typeof(self.car) weakCar = self.car;
    self.car.block = ^{
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
            NSLog(@&quot;car.name2 === %@&quot;, weakCar.name);
        });
        NSLog(@&quot;car.name1 === %@&quot;, weakCar.name);
    };
    self.car.block();
    self.car = nil;
}

// 打印结果
car.name1 === xiaomi su7
car.name2 === (null)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>可以看出self强持有car对象，在执行blcok之后，就把car置为nil。block里又有延迟函数，来读取self持有的car信息。</p> <p>通过打印结果来看：这通常不是我们想要的结果，故，我们需要在block体内进行一个“强引用”来延迟car的释放</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>- (void)viewDidLoad {
    [super viewDidLoad];

    self.car = [[Car alloc] init];
    self.car.name = @&quot;xiaomi su7&quot;;

    __weak typeof(self.car) weakCar = self.car;
    self.car.block = ^{
         __strong typeof(weakCar) strongCar = weakCar;
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
            NSLog(@&quot;car.name2 === %@&quot;, strongCar.name);
        });
        NSLog(@&quot;car.name1 === %@&quot;, weakCar.name);
    };
    self.car.block();
    self.car = nil;
}

// 打印结果
car.name1 === xiaomi su7
car.name2 === xiaomi su7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>原理：</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=59b3e44726ef45a59c515516fd3c6df7&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>这就是我们要引入strongSelf的原因：用来稍微延长真实内存区的生存期，确保block体内操作对象不被释放。</p> <p>strongSelf是个局部变量，它的生存期与方法体同在，也就是说你在方法体开始时，保证了strongSelf不为空，那在方法体结束时，它依旧能提供这样的保证。当方法体结束时，strongSelf局部变量的生存期到期，strongSelf被释放，strongSelf对真实内存区的引用也被释放。</p> <p>使用案例：</p> <p>例如：在SDWebimage的下载回调中，就是用了strongSelf来延迟block体操作对象的释放</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=a2ea2f3dd1f0495a9a95c04c6a7097fa&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>早期的AFN请求完成完成回调</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>- (void)setCompletionBlock:(void (^)(void))block {
    [self.lock lock];
    if (!block) {
        [super setCompletionBlock:nil];
    } else {
        __weak __typeof(self)weakSelf = self;
        [super setCompletionBlock:^ {
            __strong __typeof(weakSelf)strongSelf = weakSelf;

#pragma clang diagnostic push
#pragma clang diagnostic ignored &quot;-Wgnu&quot;
            dispatch_group_t group = strongSelf.completionGroup ?: url_request_operation_completion_group();
            dispatch_queue_t queue = strongSelf.completionQueue ?: dispatch_get_main_queue();
#pragma clang diagnostic pop

            dispatch_group_async(group, queue, ^{
                block();
            });

            dispatch_group_notify(group, url_request_operation_completion_queue(), ^{
                [strongSelf setCompletionBlock:nil];
            });
        }];
    }
    [self.lock unlock];
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h5 id="nstimer"><a href="#nstimer" class="header-anchor">#</a> NSTimer</h5> <div class="language- line-numbers-mode"><pre class="language-text"><code>@property (nonatomic, strong) NSTimer *timer;

// Creates a timer and schedules it on the current run loop in the default mode.
self.timer = [NSTimer scheduledTimerWithTimeInterval:1 target:weakSelf selector:@selector(doSomething) userInfo:nil repeats:YES];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>苹果官方文档对NSTimer的target参数解释：
target
The object to which to send the message specified by aSelector when the timer fires. The timer maintains a strong reference to target until it (the timer) is invalidated.
当timer fire的时候会对`target`进行强持有，直到Timer是 invalidated
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如上，我们在创建NSTimer实例时，就会在默认的runloop中持有了一个timer，time在fire时，就会持有它的target（即self）</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=c150217c824848cba033b1c4b002deb8&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>如果把对timer的引用改成弱引用可以不？</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=99e8bff2865d449490e32acbeb0e8fdd&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>答案：不行，因为当NSTimer被分配之后，会被当前线程的Runloop进行强引用，如果对象以及NSTimer是在主线程创建的，就会被主线程的Runloop持有这个NSTimer，所以即使我们通过弱引用来指向NSTimer,但是由于主线程中Runloop常驻内存通过对NSTimer的强引用，再通过NSTimer对对象的强引用，仍然对这个对象产生了强引用，此时即使VC页面退出，去掉VC对对象的引用，当前VC仍然有被Runloop的间接强引用持有，这个对象也不会被释放，此时就产生了内存泄漏。</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=e2eb5d91a44b4bb3a48e07f32cf90304&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p>左侧是Runloop对NSTimer的强引用，在NSTimer和VC对象中间添加一个中间对象，然后由NSTimer对中间对象进行强引用，同时中间对象分别对NSTimer和VC对象进行弱引用，当当前VC退出之后，VC就释放了，变为nil，当下次定时器的回调事件回来的时候，可以在中间对象当中，判断当前中间对象所持有的弱引用VC对象是否被释放了，实际上就是判断中间对象当中所持有的weak变量是否为nil，如果是nil，然后调用[NSTimer invalid]以及将NSTimer置为nil，就打破了Runloop对NSTimer的强引用以及NSTimer对中间对象的强引用。</p> <p>这个解决方案是利用了：当一个对象被释放后，它的weak指针会自动置为nil</p> <p>实现参考：<a href="https://www.jianshu.com/p/820e7a66f6a0" target="_blank" rel="noopener noreferrer">内存管理-循环引用 - 简书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>解决方案2：</p> <p>自定义一个作为消息传递中间者的Proxy（继承自NSProxy的类），并让这个Proxy弱持有真正的target，再把这个Proxy设为timer的target。Proxy会把消息转发给真正的target，而又因为是弱持有的，所以不出现循环引用（保留环）的问题。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@interface YYTextWeakProxy : NSProxy

/// The proxy target.
@property (nullable, nonatomic, weak, readonly) id target;

/// Creates a new weak proxy for target.
- (instancetype)initWithTarget:(id)target;

/// Creates a new weak proxy for target.
+ (instancetype)proxyWithTarget:(id)target;

@end

@implementation YYTextWeakProxy

- (instancetype)initWithTarget:(id)target {
    _target = target;
    return self;
}

+ (instancetype)proxyWithTarget:(id)target {
    return [[YYTextWeakProxy alloc] initWithTarget:target];
}

- (id)forwardingTargetForSelector:(SEL)selector {
    return _target;
}

- (void)forwardInvocation:(NSInvocation *)invocation {
    void *null = NULL;
    [invocation setReturnValue:&amp;null];
}

- (NSMethodSignature *)methodSignatureForSelector:(SEL)selector {
    return [NSObject instanceMethodSignatureForSelector:@selector(init)];
}

- (BOOL)respondsToSelector:(SEL)aSelector {
    return [_target respondsToSelector:aSelector];
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>这是 Apple 官方文档给 <code>NSProxy</code> 的定义，<code>NSProxy</code> 和 <code>NSObject</code> 一样都是根类，它是一个抽象类，你可以通过继承它，并重写 <code>-forwardInvocation:</code> 和 <code>-methodSignatureForSelector:</code> 方法以实现消息转发到另一个实例。综上，<code>NSProxy</code> 的目的就是负责将消息转发到真正的 target 的代理类。</p> <p><img src="https://rte.weiyun.baidu.com/wiki/attach/image/api/imageDownloadAddress?attachId=177f8c7b3d0b417ca36416e21748f061&amp;docGuid=Otj87nZkAI3zo5&amp;sign=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIiwiYXBwSWQiOjEsInVpZCI6IkdKM2VhTER2X1oiLCJkb2NJZCI6Ik90ajg3blprQUkzem81In0..nf8Xac_QAkXUg2CG.6T3e3akzcMF1nwSJAareb2ZcHeHDjVRTt9UBM8lDEEdWQLcDzPQmM88S4YG-O0r0yhHr6vQLyStxzS6HBnUREkamFLVy0CeT-8lgMA-s9IjN4b4ir_FzVUZL9DKpDWAP8wrYlTN6-4xeLw-Vsh-Zxw6nWhiy0C94pdSNHriYyS5dquu3PZKoVyFvc5Pl2tUb_RWTxMaf9l-B9rUzJm4ZjfEoxQ.x45-pgY9BjSTih-0HbQDlg" alt=""></p> <p><strong>动态方法解析</strong></p> <p>对象在收到无法解读的消息后，首先将调用其所属类的下列类方法：</p> <blockquote><ul><li>(BOOL)resolveInstanceMethod:(SEL)selector</li></ul></blockquote> <p>使用这种方法的前提是：相关方法的实现代码已经写好了，只等着运行的时候动态插入在类里面就可以了。</p> <p><strong>备援接受者</strong></p> <p>当前接受者还有第二次机会能处理未知的选择子，在这一步中，运行期的系统会问它，能不能把这条消息转给其他接受者来处理。</p> <blockquote><ul><li>(id)forwardingTargetForSelector:(SEL)selector</li></ul></blockquote> <p>在一个对象内部，可能还有一些列其他对象，该对象可经由此方法将能够处理某选择子的相关内部对象返回。如果没有则返回nil。</p> <p><strong>完整的消息转发机制</strong></p> <p>如果forwardingTargetForSelector:方法没有处理，会来到methodSignatureForSelector:方法，该方法可以返回一个方法签名，返回后，程序会继续调用forwardInvocation:方法。如果forwardInvocation:方法也没处理，程序就抛出异常</p> <blockquote><ul><li><p>(NSMethodSignature *)methodSignatureForSelector:(SEL)selector</p></li> <li><p>(void)forwardInvocation:(NSInvocation *)invocation</p></li></ul></blockquote> <p>问题：</p> <p>当不能识别方法的时候，就会调用<em>forwardingTargetForSelector</em>这个方法，在这个方法中，我们可以将不能识别的传递给其它对象处理，由于这里对所有的不能处理方法的都传递给_target了，所以<em>methodSignatureForSelector</em>和<em>forwardInvocation</em>不可能被执行的，所以不用再重载了吧？</p> <p>其实还是需要重载<em>methodSignatureForSelector</em>和<em>forwardInvocation</em>的，为什么呢？因为_target是弱引用的，所以当_target可能释放了，当它被释放了的情况下，那么<em>forwardingTargetForSelector</em>就是返回nil了。然后<em>methodSignatureForSelector</em>和forwardInvocation没实现的话，就直接crash了!!! 这也是为什么这两个方法中随便写的!!!</p> <p>参考链接：</p> <p><a href="https://blog.csdn.net/yohunl/article/details/50614903" target="_blank" rel="noopener noreferrer">NSTimer和实现弱引用的timer的方式_vc弱引用nstimer-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/shawjan/article/details/45478901" target="_blank" rel="noopener noreferrer">[iOS进阶]iOS消息机制-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>使用案例：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>self.tipViewTimer = [NSTimer scheduledTimerWithTimeInterval:time
                                                     target:[YYTextWeakProxy proxyWithTarget:self]
                                                   selector:@selector(tipViewTimerAction)
                                                   userInfo:nil
                                                    repeats:YES];
[[NSRunLoop currentRunLoop] addTimer:self.tipViewTimer forMode:NSRunLoopCommonModes];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="四、不会产生循环引用的场景"><a href="#四、不会产生循环引用的场景" class="header-anchor">#</a> 四、不会产生循环引用的场景</h3> <h5 id="afn"><a href="#afn" class="header-anchor">#</a> AFN</h5> <p>我们使用[AFHTTPSessionManager manager]发起网络请求，在函数中，AFHTTPSessionManager * manager是一个局部变量，随着函数栈的调用结束，这个局部变量也就被回收了，故self并没有持</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// AFN GET请求
AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
[manager GET:url parameters:params headers:header progress:^(NSProgress * _Nonnull downloadProgress) {

} success:^(NSURLSessionDataTask * _Nonnull task, id  _Nullable responseObject) {

} failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {

}];

+ (instancetype)manager {
    return [[[self class] alloc] initWithBaseURL:nil];
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在GET的调用过程中，对success，failure并没有做什么操作。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// GET请求源码1
- (NSURLSessionDataTask *)GET:(NSString *)URLString
                   parameters:(nullable id)parameters
                      headers:(nullable NSDictionary &lt;NSString *, NSString *&gt; *)headers
                     progress:(nullable void (^)(NSProgress * _Nonnull))downloadProgress
                      success:(nullable void (^)(NSURLSessionDataTask * _Nonnull, id _Nullable))success
                      failure:(nullable void (^)(NSURLSessionDataTask * _Nullable, NSError * _Nonnull))failure
{
    NSURLSessionDataTask *dataTask = [self dataTaskWithHTTPMethod:@&quot;GET&quot;
                                                        URLString:URLString
                                                       parameters:parameters
                                                          headers:headers
                                                   uploadProgress:nil
                                                 downloadProgress:downloadProgress
                                                          success:success
                                                          failure:failure];

    [dataTask resume];
    return dataTask;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>来到dataTaskWithHTTPMethod里，发现31-40行，发现dataTask也没有持有success，failure，只是当成一个普通的block，然后调用了这个block而已。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 源码2
- (NSURLSessionDataTask *)dataTaskWithHTTPMethod:(NSString *)method
                                       URLString:(NSString *)URLString
                                      parameters:(nullable id)parameters
                                         headers:(nullable NSDictionary &lt;NSString *, NSString *&gt; *)headers
                                  uploadProgress:(nullable void (^)(NSProgress *uploadProgress)) uploadProgress
                                downloadProgress:(nullable void (^)(NSProgress *downloadProgress)) downloadProgress
                                         success:(nullable void (^)(NSURLSessionDataTask *task, id _Nullable responseObject))success
                                         failure:(nullable void (^)(NSURLSessionDataTask * _Nullable task, NSError *error))failure
{
    NSError *serializationError = nil;
    NSMutableURLRequest *request = [self.requestSerializer requestWithMethod:method URLString:[[NSURL URLWithString:URLString relativeToURL:self.baseURL] absoluteString] parameters:parameters error:&amp;serializationError];
    for (NSString *headerField in headers.keyEnumerator) {
        [request setValue:headers[headerField] forHTTPHeaderField:headerField];
    }
    if (serializationError) {
        if (failure) {
            dispatch_async(self.completionQueue ?: dispatch_get_main_queue(), ^{
                failure(nil, serializationError);
            });
        }

        return nil;
    }

    __block NSURLSessionDataTask *dataTask = nil;
    dataTask = [self dataTaskWithRequest:request
                          uploadProgress:uploadProgress
                        downloadProgress:downloadProgress
                       completionHandler:^(NSURLResponse * __unused response, id responseObject, NSError *error) {
        if (error) {
            if (failure) {
                failure(dataTask, error);
            }
        } else {
            if (success) {
                success(dataTask, responseObject);
            }
        }
    }];

    return dataTask;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h5 id="masonry"><a href="#masonry" class="header-anchor">#</a> Masonry</h5> <p>由源码可以看出：Masonry中设置布局的方法中的block对象并没有被View所引用，而是直接在方法内部同步执行，执行完以后block将释放，其中捕捉的外部变量的引用计数也将还原到之前。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/// 调用
[self.containerView mas_makeConstraints:^(MASConstraintMaker *make) {
   make.bottom.mas_equalTo(0);
   make.top.mas_equalTo(TBCPadding(M_H_X002));
   make.left.mas_equalTo(TBCPadding(M_W_X004));
   make.right.mas_equalTo(-TBCPadding(M_W_X004));
}];

/// Masonry源码
#import &quot;View+MASAdditions.h&quot;
#import &lt;objc/runtime.h&gt;

@implementation MAS_VIEW (MASAdditions)

- (NSArray *)mas_makeConstraints:(void(^)(MASConstraintMaker *))block {
    self.translatesAutoresizingMaskIntoConstraints = NO;
    MASConstraintMaker *constraintMaker = [[MASConstraintMaker alloc] initWithView:self];
    block(constraintMaker);
    return [constraintMaker install];
}

- (NSArray *)mas_updateConstraints:(void(^)(MASConstraintMaker *))block {
    self.translatesAutoresizingMaskIntoConstraints = NO;
    MASConstraintMaker *constraintMaker = [[MASConstraintMaker alloc] initWithView:self];
    constraintMaker.updateExisting = YES;
    block(constraintMaker);
    return [constraintMaker install];
}

- (NSArray *)mas_remakeConstraints:(void(^)(MASConstraintMaker *make))block {
    self.translatesAutoresizingMaskIntoConstraints = NO;
    MASConstraintMaker *constraintMaker = [[MASConstraintMaker alloc] initWithView:self];
    constraintMaker.removeExisting = YES;
    block(constraintMaker);
    return [constraintMaker install];
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h5 id="系统uiview类动画"><a href="#系统uiview类动画" class="header-anchor">#</a> 系统UIView类动画</h5> <p>UIView动画block不会造成循环引用是因为这是类方法，不可能强引用一个类，所以不会造成循环引用。</p> <p>UIView中的block持有当前控制器，但是当前控制器中是没有持有UIView类的，没有形成循环。当动画结束时，UIView会结束持有这个block，如果没有别的对象持有block的话，block对象就会被释放掉，从而block会释放掉对self的持有，整个内存引用关系被解除。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[UIView animateWithDuration:0.25 animations:^{
    [self.refreshHeaderView setPullToRefreshState:TBCPullToRefreshHeaderViewStateLoading];
    self.contentComponent.top = self.segmentComponent.height + kTBCHybridFrsRefreshHeaderViewHeight;
}];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="gcd相关的一些代码块"><a href="#gcd相关的一些代码块" class="header-anchor">#</a> GCD相关的一些代码块</h5> <p>没有对象持有dispatch_after，所以在dispatch_after里面使用self是不构成循环引用。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/02.技术/05.iOS基础知识/03.内存管理系列/03.循环引用.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/10/23, 23:26:17</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/e8df1b/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">autoReleasePool</div></a> <a href="/pages/42c60f/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">内存管理自我总结</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/e8df1b/" class="prev">autoReleasePool</a></span> <span class="next"><a href="/pages/42c60f/">内存管理自我总结</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/1e9b25/"><div>
            排序算法
            <!----></div></a> <span class="date">10-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/f27637/"><div>
            学习数据结构和算法的高效方法
            <!----></div></a> <span class="date">10-19</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/39672b/"><div>
            时间复杂度跟空间复杂度
            <!----></div></a> <span class="date">10-19</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:yangzai2140@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/214070779" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.cc55d274.js" defer></script><script src="/assets/js/2.81b2a5fe.js" defer></script><script src="/assets/js/48.228e3df9.js" defer></script>
  </body>
</html>
